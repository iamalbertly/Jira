{"version":3,"names":["test","expect","BASE_URL","process","env","SPRINT_PAGE","loadSprintPage","page","goto","waitForSelector","timeout","getFirstBoardId","request","base","res","get","status","data","json","boards","projects","length","id","getPageMetrics","evaluate","perf","performance","getEntriesByType","domReady","domContentLoadedEventEnd","domContentLoadedEventStart","loadComplete","loadEventEnd","loadEventStart","nodeCount","document","body","querySelectorAll","cssSize","Blob","styleSheets","map","sheet","cssText","size","describe","beforeEach","headerBar","locator","toBeVisible","toHaveCount","initialTop","el","window","getComputedStyle","position","scrollBy","stickyStyle","toContain","remainingMetric","text","textContent","daysMatch","match","days","parseInt","expectedClass","classList","getAttribute","startTime","Date","now","renderTime","toBeLessThan","healthCard","progressBar","doneBar","inprogressBar","doneCount","count","inprogressCount","toBeGreaterThan","copyBtn","navigator","clipboard","writeText","setAttribute","Promise","resolve","click","toContainText","clipboardContent","toBeTruthy","riskChip","riskText","toMatch","alertBanner","isVisible","catch","skip","dismissBtn","not","isDismissed","header","querySelector","sprintId","specificKey","genericKey","dismissedTime","localStorage","getItem","banner","severity","actionLink","first","href","card","tabs","learningsTab","nth","isActive","contains","learnPanel","isPanelActive","firstTab","focus","keyboard","press","secondTab","hasFocus","activeElement","route","abort","saveBtn","statusEl","statusText","bar","style","background","expandBtn","issues","health","carousel","toBeLessThanOrEqual","i","Math","min","tab","ariaLabel","chip","detailsBtn","modal","closeBtn","isHidden","display","timer","svg","label","animation","btn","menu","options","copyOption","x","y","setViewportSize","width","height","topRow","columns","columnCount","toBeGreaterThanOrEqual","isFlexWrap","flexWrap","cards","offsetWidth","parentWidth","parentElement","loadTime","errors","on","msg","type","push","toEqual","buttons","primaryText","element","bgColor","backgroundColor","textColor","color","setItem","tzPref","toBe","warning","trackingStatus","components","selector","metrics","boardsRes","boardsBody","boardId","response","sprint","summary","daysMeta","stuckCandidates"],"sources":["Jira-Reporting-App-CurrentSprint-Redesign-Validation-Tests.spec.js"],"sourcesContent":["/**\r\n * Jira Reporting App - Current Sprint Redesign Validation Test Suite\r\n * \r\n * Comprehensive tests for all 11 new UI components:\r\n * 1. Fixed Header Bar\r\n * 2. Unified Health Dashboard\r\n * 3. Alert/Warning Banner\r\n * 4. Risks & Insights Modal\r\n * 5. Capacity Allocation Visualization\r\n * 6. Sprint Navigation Carousel\r\n * 7. Scope Change Indicator\r\n * 8. Days Remaining Countdown Timer\r\n * 9. Export Dashboard Feature\r\n * 10. CSS Grid Responsive Layout\r\n * 11. Comprehensive Validation & Accessibility\r\n * \r\n * + 3 Bonus Edge Case Solutions:\r\n * A. Multi-timezone Sprint Scheduling\r\n * B. Burndown with Estimation Gaps\r\n * C. Sub-task Estimation Without Parent Estimate\r\n * \r\n * Rationale: All tests use Playwright for real-time browser automation + visual regression\r\n * Tests validate: functionality, performance, accessibility, responsiveness, error handling\r\n */\r\n\r\nimport { test, expect } from '@playwright/test';\r\n\r\n// Base configuration\r\nconst BASE_URL = process.env.BASE_URL || 'http://localhost:3000';\r\nconst SPRINT_PAGE = `${BASE_URL}/current-sprint`;\r\n\r\n/**\r\n * Utility: Load sprint page and wait for content\r\n */\r\nasync function loadSprintPage(page) {\r\n  await page.goto(SPRINT_PAGE);\r\n  // Wait for content to appear or an error to surface; prevents flakiness when boards list differs\r\n  await page.waitForSelector('#current-sprint-content, #current-sprint-error', { timeout: 30000 });\r\n}\r\n\r\n// Utility: get first available boardId from API (resilient test helper)\r\nasync function getFirstBoardId(request) {\r\n  const base = process.env.BASE_URL || 'http://localhost:3000';\r\n  const res = await request.get(`${base}/api/boards.json`);\r\n  if (res.status() !== 200) return null;\r\n  const data = await res.json();\r\n  const boards = data?.boards || data?.boards || data?.projects || [];\r\n  if (!boards || boards.length === 0) return null;\r\n  return boards[0]?.id || null;\r\n}\r\n\r\n/**\r\n * Utility: Get page performance metrics\r\n */\r\nasync function getPageMetrics(page) {\r\n  return await page.evaluate(() => {\r\n    const perf = performance.getEntriesByType('navigation')[0];\r\n    return {\r\n      domReady: perf?.domContentLoadedEventEnd - perf?.domContentLoadedEventStart,\r\n      loadComplete: perf?.loadEventEnd - perf?.loadEventStart,\r\n      nodeCount: document.body.querySelectorAll('*').length,\r\n      cssSize: new Blob([...document.styleSheets].map(sheet => sheet.cssText || '')).size\r\n    };\r\n  });\r\n}\r\n\r\ntest.describe('CurrentSprint Redesign - Component Validation', () => {\r\n  test.beforeEach(async ({ page }) => {\r\n    // Navigate to sprint page\r\n    await loadSprintPage(page);\r\n  });\r\n\r\n  // ========== VALIDATION 1: Header Bar Component ==========\r\n  test('Validation 1.1: Header bar renders with sprint metadata', async ({ page }) => {\r\n    const headerBar = page.locator('.current-sprint-header-bar');\r\n    await expect(headerBar).toBeVisible();\r\n    \r\n    // Check all required elements\r\n    await expect(page.locator('.header-sprint-name')).toBeVisible();\r\n    await expect(page.locator('.header-sprint-dates')).toBeVisible();\r\n    await expect(page.locator('.header-metric')).toHaveCount(3); // Remaining, Total SP, Progress\r\n    await expect(page.locator('.status-badge')).toBeVisible();\r\n  });\r\n\r\n  test('Validation 1.2: Header bar is sticky on scroll', async ({ page }) => {\r\n    const headerBar = page.locator('.current-sprint-header-bar');\r\n    const initialTop = await headerBar.evaluate(el => window.getComputedStyle(el).position);\r\n    \r\n    // Scroll down\r\n    await page.evaluate(() => window.scrollBy(0, 500));\r\n    \r\n    // Verify sticky positioning\r\n    const stickyStyle = await headerBar.evaluate(el => window.getComputedStyle(el).position);\r\n    expect(['fixed', 'sticky']).toContain(stickyStyle);\r\n  });\r\n\r\n  test('Validation 1.3: Days remaining color coding is correct', async ({ page }) => {\r\n    const remainingMetric = page.locator('.header-metric:first-of-type .metric-value');\r\n    const text = await remainingMetric.textContent();\r\n    \r\n    // Parse days from text (e.g., \"1 day\", \"5 days\")\r\n    const daysMatch = text?.match(/(\\d+)/);\r\n    if (daysMatch) {\r\n      const days = parseInt(daysMatch[1]);\r\n      let expectedClass = 'critical'; // 0-2 days\r\n      if (days > 5) expectedClass = 'green';\r\n      else if (days > 2) expectedClass = 'yellow';\r\n      \r\n      // Verify color class exists\r\n      const classList = await remainingMetric.getAttribute('class');\r\n      expect(classList).toContain(expectedClass);\r\n    }\r\n  });\r\n\r\n  test('Validation 1.4: Header bar renders within 100ms', async ({ page }) => {\r\n    const startTime = Date.now();\r\n    await page.waitForSelector('.current-sprint-header-bar', { timeout: 100 });\r\n    const renderTime = Date.now() - startTime;\r\n    expect(renderTime).toBeLessThan(100);\r\n  });\r\n\r\n  // ========== VALIDATION 2: Health Dashboard ==========\r\n  test('Validation 2.1: Health dashboard card renders with all sections', async ({ page }) => {\r\n    const healthCard = page.locator('.health-dashboard-card');\r\n    await expect(healthCard).toBeVisible();\r\n    \r\n    // Check sections\r\n    await expect(page.locator('.health-status-chip')).toBeVisible();\r\n    await expect(page.locator('.health-progress-section')).toBeVisible();\r\n    await expect(page.locator('.health-split-section')).toBeVisible();\r\n    await expect(page.locator('.health-tracking-section')).toBeVisible();\r\n    await expect(page.locator('.health-actions')).toBeVisible();\r\n  });\r\n\r\n  test('Validation 2.2: Health dashboard progress bar displays correctly', async ({ page }) => {\r\n    const progressBar = page.locator('.progress-bar-container');\r\n    await expect(progressBar).toBeVisible();\r\n    \r\n    // Verify bars exist\r\n    const doneBar = page.locator('.progress-bar.done');\r\n    const inprogressBar = page.locator('.progress-bar.inprogress');\r\n    \r\n    // At least one should exist\r\n    const doneCount = await doneBar.count();\r\n    const inprogressCount = await inprogressBar.count();\r\n    expect(doneCount + inprogressCount).toBeGreaterThan(0);\r\n  });\r\n\r\n  test('Validation 2.3: Health dashboard copy-to-clipboard works', async ({ page }) => {\r\n    const copyBtn = page.locator('.health-copy-btn');\r\n    \r\n    // Mock clipboard\r\n    await page.evaluate(() => {\r\n      navigator.clipboard.writeText = async (text) => {\r\n        document.body.setAttribute('data-clipboard', text);\r\n        return Promise.resolve();\r\n      };\r\n    });\r\n    \r\n    await copyBtn.click();\r\n    \r\n    // Verify button shows \"Copied!\"\r\n    await expect(copyBtn).toContainText('Copied!', { timeout: 100 });\r\n    \r\n    // Verify clipboard content\r\n    const clipboardContent = await page.getAttribute('body', 'data-clipboard');\r\n    expect(clipboardContent).toBeTruthy();\r\n  });\r\n\r\n  test('Validation 2.4: Health dashboard risk indicator appears with risks', async ({ page }) => {\r\n    const riskChip = page.locator('.health-status-chip');\r\n    const riskText = await riskChip.textContent();\r\n    \r\n    // Should contain either \"healthy\" or \"⚠️\"\r\n    expect(riskText).toMatch(/(healthy|⚠️)/);\r\n  });\r\n\r\n  test('Validation 2.5: Health dashboard renders within 150ms', async ({ page }) => {\r\n    const startTime = Date.now();\r\n    await page.waitForSelector('.health-dashboard-card', { timeout: 150 });\r\n    const renderTime = Date.now() - startTime;\r\n    expect(renderTime).toBeLessThan(150);\r\n  });\r\n\r\n  // ========== VALIDATION 3: Alert Banner ==========\r\n  test('Validation 3.1: Alert banner appears when critical issues exist', async ({ page }) => {\r\n    // Check if alert is visible (conditional on data)\r\n    const alertBanner = page.locator('.alert-banner');\r\n    const isVisible = await alertBanner.isVisible().catch(() => false);\r\n    \r\n    if (isVisible) {\r\n      // Verify color class\r\n      const classList = await alertBanner.getAttribute('class');\r\n      expect(classList).toMatch(/(yellow|orange|red)/);\r\n    }\r\n  });\r\n\r\n  test('Validation 3.2: Alert banner dismiss button works', async ({ page }) => {\r\n    const alertBanner = page.locator('.alert-banner');\r\n    if (!(await alertBanner.isVisible())) {\r\n      test.skip();\r\n    }\r\n    \r\n    const dismissBtn = page.locator('.alert-dismiss');\r\n    await dismissBtn.click();\r\n    \r\n    // Banner should be hidden\r\n    await expect(alertBanner).not.toBeVisible({ timeout: 500 });\r\n    \r\n    // Verify localStorage is set (either sprint-specific or generic key)\r\n    const isDismissed = await page.evaluate(() => {\r\n      const header = document.querySelector('.current-sprint-header-bar');\r\n      const sprintId = header?.getAttribute('data-sprint-id');\r\n      const specificKey = sprintId ? `alert_banner_dismissed_${sprintId}` : null;\r\n      const genericKey = 'alert_banner_dismissed_unknown';\r\n      const dismissedTime = (specificKey && localStorage.getItem(specificKey)) || localStorage.getItem(genericKey);\r\n      return dismissedTime !== null;\r\n    });\r\n    expect(isDismissed).toBeTruthy();\r\n  });\r\n\r\n  test('Validation 3.3: Alert banner shows correct severity colors', async ({ page }) => {\r\n    const banner = page.locator('.alert-banner');\r\n    if (!(await banner.isVisible())) {\r\n      test.skip();\r\n    }\r\n    \r\n    const classList = await banner.getAttribute('class');\r\n    const severity = classList?.match(/(yellow|orange|red)/)?.[0];\r\n    \r\n    expect(['yellow', 'orange', 'red']).toContain(severity);\r\n  });\r\n\r\n  test('Validation 3.4: Alert action links navigate correctly', async ({ page }) => {\r\n    const banner = page.locator('.alert-banner');\r\n    if (!(await banner.isVisible())) {\r\n      test.skip();\r\n    }\r\n    \r\n    const actionLink = page.locator('.alert-action').first();\r\n    if (await actionLink.count() > 0) {\r\n      const href = await actionLink.getAttribute('href');\r\n      expect(href).toBeTruthy();\r\n    }\r\n  });\r\n\r\n  // ========== VALIDATION 4: Risks & Insights Modal ==========\r\n  test('Validation 4.1: Risks & Insights card renders with all tabs', async ({ page }) => {\r\n    const card = page.locator('.risks-insights-card');\r\n    await expect(card).toBeVisible();\r\n    \r\n    // Check tabs\r\n    await expect(page.locator('.insights-tab')).toHaveCount(3); // Blockers, Learnings, Assumptions\r\n  });\r\n\r\n  test('Validation 4.2: Risks & Insights tab switching works', async ({ page }) => {\r\n    const tabs = page.locator('.insights-tab');\r\n    const learningsTab = tabs.nth(1);\r\n    \r\n    await learningsTab.click();\r\n    \r\n    // Verify tab is active\r\n    const isActive = await learningsTab.evaluate(el => el.classList.contains('active'));\r\n    expect(isActive).toBeTruthy();\r\n    \r\n    // Verify panel is visible\r\n    const learnPanel = page.locator('#learnings-panel');\r\n    const isPanelActive = await learnPanel.evaluate(el => el.classList.contains('active'));\r\n    expect(isPanelActive).toBeTruthy();\r\n  });\r\n\r\n  test('Validation 4.3: Risks & Insights keyboard navigation works', async ({ page }) => {\r\n    const tabs = page.locator('.insights-tab');\r\n    const firstTab = tabs.first();\r\n    \r\n    await firstTab.focus();\r\n    await page.keyboard.press('ArrowRight');\r\n    \r\n    // Second tab should now be focused\r\n    const secondTab = tabs.nth(1);\r\n    const hasFocus = await secondTab.evaluate(el => el === document.activeElement);\r\n    expect(hasFocus).toBeTruthy();\r\n  });\r\n\r\n  test('Validation 4.4: Risks & Insights save functionality works', async ({ page }) => {\r\n    // Mock API endpoint\r\n    await page.route('/api/current-sprint/insights', route => {\r\n      route.abort('blockedbyclient');\r\n    });\r\n    \r\n    const saveBtn = page.locator('#insights-save');\r\n    if (await saveBtn.isVisible()) {\r\n      await saveBtn.click();\r\n      \r\n      // Status message should show attempt\r\n      const statusEl = page.locator('#insights-status');\r\n      const statusText = await statusEl.textContent();\r\n      expect(statusText).toBeTruthy();\r\n    }\r\n  });\r\n\r\n  // ========== VALIDATION 5: Capacity Allocation ==========\r\n  test('Validation 5.1: Capacity allocation card renders', async ({ page }) => {\r\n    const card = page.locator('.capacity-allocation-card');\r\n    await expect(card).toBeVisible();\r\n    \r\n    // Check required elements\r\n    await expect(page.locator('.capacity-health')).toBeVisible();\r\n    await expect(page.locator('.capacity-allocations')).toBeVisible();\r\n  });\r\n\r\n  test('Validation 5.2: Capacity bar shows overallocation correctly', async ({ page }) => {\r\n    const bar = page.locator('.allocation-bar.overallocated');\r\n    const count = await bar.count();\r\n    \r\n    // If overallocated items exist, verify color\r\n    if (count > 0) {\r\n      const style = await bar.first().evaluate(el => window.getComputedStyle(el).background);\r\n      expect(style).toContain('rgb'); // Should have color\r\n    }\r\n  });\r\n\r\n  test('Validation 5.3: Capacity allocation expand/collapse works', async ({ page }) => {\r\n    const expandBtn = page.locator('.allocation-expand-btn').first();\r\n    if (await expandBtn.count() === 0) {\r\n      test.skip();\r\n    }\r\n    \r\n    await expandBtn.click();\r\n    \r\n    // Issues list should be visible\r\n    const issues = page.locator('.allocation-issues').first();\r\n    const isVisible = await issues.isVisible().catch(() => false);\r\n    expect(isVisible).toBeTruthy();\r\n  });\r\n\r\n  test('Validation 5.4: Capacity health color matches severity', async ({ page }) => {\r\n    const health = page.locator('.capacity-health');\r\n    const classList = await health.getAttribute('class');\r\n    \r\n    expect(classList).toMatch(/(green|orange|yellow|red)/);\r\n  });\r\n\r\n  // ========== VALIDATION 6: Sprint Carousel ==========\r\n  test('Validation 6.1: Sprint carousel renders with 8 recent sprints', async ({ page }) => {\r\n    const carousel = page.locator('.sprint-carousel');\r\n    const tabs = page.locator('.carousel-tab');\r\n    \r\n    const count = await tabs.count();\r\n    expect(count).toBeGreaterThan(0);\r\n    expect(count).toBeLessThanOrEqual(8);\r\n  });\r\n\r\n  test('Validation 6.2: Sprint carousel keyboard navigation works', async ({ page }) => {\r\n    const tabs = page.locator('.carousel-tab');\r\n    const firstTab = tabs.first();\r\n    \r\n    await firstTab.focus();\r\n    await page.keyboard.press('ArrowRight');\r\n    \r\n    // Next tab should receive focus\r\n    const secondTab = tabs.nth(1);\r\n    const hasFocus = await secondTab.evaluate(el => el === document.activeElement);\r\n    expect(hasFocus).toBeTruthy();\r\n  });\r\n\r\n  test('Validation 6.3: Sprint carousel colors match completion %', async ({ page }) => {\r\n    const tabs = page.locator('.carousel-tab');\r\n    \r\n    for (let i = 0; i < Math.min(3, await tabs.count()); i++) {\r\n      const tab = tabs.nth(i);\r\n      const classList = await tab.getAttribute('class');\r\n      expect(classList).toMatch(/(green|yellow|gray|muted)/);\r\n    }\r\n  });\r\n\r\n  test('Validation 6.4: Sprint carousel has accessibility labels', async ({ page }) => {\r\n    const carousel = page.locator('.sprint-carousel');\r\n    const ariaLabel = await carousel.getAttribute('aria-label');\r\n    expect(ariaLabel).toBeTruthy();\r\n  });\r\n\r\n  // ========== VALIDATION 7: Scope Indicator ==========\r\n  test('Validation 7.1: Scope indicator chip appears only when scope > 0%', async ({ page }) => {\r\n    const chip = page.locator('.scope-indicator-chip');\r\n    const isVisible = await chip.isVisible().catch(() => false);\r\n    \r\n    if (isVisible) {\r\n      const text = await chip.textContent();\r\n      expect(text).toContain('Scope:');\r\n    }\r\n  });\r\n\r\n  test('Validation 7.2: Scope indicator color coding is correct', async ({ page }) => {\r\n    const chip = page.locator('.scope-indicator-chip');\r\n    if (!(await chip.isVisible())) {\r\n      test.skip();\r\n    }\r\n    \r\n    const classList = await chip.getAttribute('class');\r\n    expect(classList).toMatch(/(green|yellow|red)/);\r\n  });\r\n\r\n  test('Validation 7.3: Scope modal opens on details button click', async ({ page }) => {\r\n    const detailsBtn = page.locator('.scope-details-btn');\r\n    if (!(await detailsBtn.isVisible())) {\r\n      test.skip();\r\n    }\r\n    \r\n    await detailsBtn.click();\r\n    \r\n    const modal = page.locator('.scope-modal-overlay');\r\n    await expect(modal).toBeVisible();\r\n  });\r\n\r\n  test('Validation 7.4: Scope modal closes on X button click', async ({ page }) => {\r\n    const detailsBtn = page.locator('.scope-details-btn');\r\n    if (!(await detailsBtn.isVisible())) {\r\n      test.skip();\r\n    }\r\n    \r\n    await detailsBtn.click();\r\n    \r\n    const closeBtn = page.locator('.modal-close-btn');\r\n    await closeBtn.click();\r\n    \r\n    const modal = page.locator('.scope-modal-overlay');\r\n    const isHidden = await modal.evaluate(el => el.style.display === 'none');\r\n    expect(isHidden).toBeTruthy();\r\n  });\r\n\r\n  // ========== VALIDATION 8: Countdown Timer ==========\r\n  test('Validation 8.1: Countdown timer renders with correct color', async ({ page }) => {\r\n    const timer = page.locator('.countdown-timer-widget');\r\n    await expect(timer).toBeVisible();\r\n    \r\n    const svg = page.locator('.countdown-ring');\r\n    const classList = await svg.getAttribute('class');\r\n    expect(classList).toMatch(/(green|yellow|red|gray)/);\r\n  });\r\n\r\n  test('Validation 8.2: Countdown timer shows days or hours correctly', async ({ page }) => {\r\n    const label = page.locator('.countdown-label');\r\n    const text = await label.textContent();\r\n    \r\n    // Should show \"Xd\" or \"Xh\" or \"✓\"\r\n    expect(text).toMatch(/(d|h|✓|<)/);\r\n  });\r\n\r\n  test('Validation 8.3: Countdown timer has accessibility label', async ({ page }) => {\r\n    const timer = page.locator('.countdown-timer-widget');\r\n    const ariaLabel = await timer.getAttribute('aria-label');\r\n    expect(ariaLabel).toBeTruthy();\r\n  });\r\n\r\n  test('Validation 8.4: Countdown timer pulse animation on urgent', async ({ page }) => {\r\n    const timer = page.locator('.countdown-timer-widget');\r\n    const svg = page.locator('.countdown-ring.urgent');\r\n    \r\n    if (await svg.count() > 0) {\r\n      const animation = await svg.evaluate(el => window.getComputedStyle(el).animation);\r\n      expect(animation).toBeTruthy();\r\n    }\r\n  });\r\n\r\n  // ========== VALIDATION 9: Export Dashboard ==========\r\n  test('Validation 9.1: Export button is visible and clickable', async ({ page }) => {\r\n    const btn = page.locator('.export-dashboard-btn');\r\n    await expect(btn).toBeVisible();\r\n    await btn.click();\r\n    \r\n    const menu = page.locator('#export-menu');\r\n    await expect(menu).toBeVisible();\r\n  });\r\n\r\n  test('Validation 9.2: Export menu shows all options', async ({ page }) => {\r\n    const btn = page.locator('.export-dashboard-btn');\r\n    await btn.click();\r\n    \r\n    const options = page.locator('.export-option');\r\n    await expect(options).toHaveCount(5); // PNG 1920, PNG 1200, Markdown, Copy Link, Email\r\n  });\r\n\r\n  test('Validation 9.3: Copy dashboard link works', async ({ page }) => {\r\n    const btn = page.locator('.export-dashboard-btn');\r\n    await btn.click();\r\n    \r\n    const copyOption = page.locator('[data-action=\"copy-link\"]');\r\n    \r\n    // Mock clipboard\r\n    await page.evaluate(() => {\r\n      navigator.clipboard.writeText = async (text) => {\r\n        document.body.setAttribute('data-copied-link', text);\r\n        return Promise.resolve();\r\n      };\r\n    });\r\n    \r\n    await copyOption.click();\r\n    \r\n    // Verify button shows \"Copied!\"\r\n    await expect(btn).toContainText('✓ Link copied!', { timeout: 1000 });\r\n  });\r\n\r\n  test('Validation 9.4: Export menu closes on click outside', async ({ page }) => {\r\n    const btn = page.locator('.export-dashboard-btn');\r\n    await btn.click();\r\n    \r\n    const menu = page.locator('#export-menu');\r\n    await expect(menu).toBeVisible();\r\n    \r\n    // Click outside menu\r\n    await page.click('body', { position: { x: 0, y: 0 } });\r\n    \r\n    const isHidden = await menu.evaluate(el => el.classList.contains('hidden'));\r\n    expect(isHidden).toBeTruthy();\r\n  });\r\n\r\n  // ========== VALIDATION 10: Responsive Layout ==========\r\n  test('Validation 10.1: Desktop layout shows 2-3 columns', async ({ page }) => {\r\n    await page.setViewportSize({ width: 1920, height: 1080 });\r\n    \r\n    const topRow = page.locator('.sprint-cards-row.top-row');\r\n    const columns = page.locator('.card-column');\r\n    \r\n    const columnCount = await columns.count();\r\n    expect(columnCount).toBeGreaterThanOrEqual(2);\r\n  });\r\n\r\n  test('Validation 10.2: Tablet layout shows 2 columns', async ({ page }) => {\r\n    await page.setViewportSize({ width: 768, height: 1024 });\r\n    \r\n    const topRow = page.locator('.sprint-cards-row.top-row');\r\n    const isFlexWrap = await topRow.evaluate(el => {\r\n      return window.getComputedStyle(el).flexWrap === 'wrap';\r\n    });\r\n    \r\n    expect(isFlexWrap).toBeTruthy();\r\n  });\r\n\r\n  test('Validation 10.3: Mobile layout shows 1 column', async ({ page }) => {\r\n    await page.setViewportSize({ width: 375, height: 812 });\r\n    \r\n    const cards = page.locator('.card-column');\r\n    \r\n    // Each card should be full width or close to it\r\n    for (let i = 0; i < Math.min(3, await cards.count()); i++) {\r\n      const width = await cards.nth(i).evaluate(el => el.offsetWidth);\r\n      const parentWidth = await cards.nth(i).evaluate(el => el.parentElement.offsetWidth);\r\n      \r\n      // Card should be >80% of parent width\r\n      expect(width / parentWidth).toBeGreaterThan(0.8);\r\n    }\r\n  });\r\n\r\n  test('Validation 10.4: Header bar is sticky on all screen sizes', async ({ page }) => {\r\n    for (const width of [1920, 768, 375]) {\r\n      await page.setViewportSize({ width, height: 1080 });\r\n      \r\n      const header = page.locator('.current-sprint-header-bar');\r\n      const style = await header.evaluate(el => window.getComputedStyle(el).position);\r\n      \r\n      expect(['sticky', 'fixed']).toContain(style);\r\n    }\r\n  });\r\n\r\n  // ========== VALIDATION 11: Performance & Accessibility ==========\r\n  test('Validation 11.1: Page load time < 1 second', async ({ page }) => {\r\n    const startTime = Date.now();\r\n    await loadSprintPage(page);\r\n    const loadTime = Date.now() - startTime;\r\n    \r\n    expect(loadTime).toBeLessThan(1000);\r\n  });\r\n\r\n  test('Validation 11.2: No console errors during render', async ({ page }) => {\r\n    const errors = [];\r\n    page.on('console', msg => {\r\n      if (msg.type() === 'error') {\r\n        errors.push(msg.text());\r\n      }\r\n    });\r\n    \r\n    await loadSprintPage(page);\r\n    \r\n    expect(errors).toEqual([]);\r\n  });\r\n\r\n  test('Validation 11.3: Accessibility: All interactive elements have aria-labels', async ({ page }) => {\r\n    const buttons = page.locator('button');\r\n    \r\n    for (let i = 0; i < Math.min(5, await buttons.count()); i++) {\r\n      const btn = buttons.nth(i);\r\n      const ariaLabel = await btn.getAttribute('aria-label');\r\n      const text = await btn.textContent();\r\n      \r\n      expect(ariaLabel || text).toBeTruthy();\r\n    }\r\n  });\r\n\r\n  test('Validation 11.4: Accessibility: Color contrast is sufficient', async ({ page }) => {\r\n    const primaryText = page.locator('h1, h2, h3');\r\n    \r\n    for (let i = 0; i < Math.min(3, await primaryText.count()); i++) {\r\n      const element = primaryText.nth(i);\r\n      const bgColor = await element.evaluate(el => window.getComputedStyle(el).backgroundColor);\r\n      const textColor = await element.evaluate(el => window.getComputedStyle(el).color);\r\n      \r\n      // Basic check: both should be defined\r\n      expect(bgColor).toBeTruthy();\r\n      expect(textColor).toBeTruthy();\r\n    }\r\n  });\r\n\r\n  test('Validation 11.5: DOM node count < 500 (performance)', async ({ page }) => {\r\n    await loadSprintPage(page);\r\n    \r\n    const nodeCount = await page.evaluate(() => {\r\n      return document.querySelectorAll('*').length;\r\n    });\r\n    \r\n    expect(nodeCount).toBeLessThan(500);\r\n  });\r\n\r\n  // ========== BONUS: EDGE CASES ==========\r\n  \r\n  test('Edge Case A.1: Timezone Detection - Header countdown uses correct TZ', async ({ page }) => {\r\n    // Set user TZ preference\r\n    await page.evaluate(() => {\r\n      localStorage.setItem('sprint_view_tz', 'America/Los_Angeles');\r\n    });\r\n    \r\n    await loadSprintPage(page);\r\n    \r\n    const tzPref = await page.evaluate(() => {\r\n      return localStorage.getItem('sprint_view_tz');\r\n    });\r\n    \r\n    expect(tzPref).toBe('America/Los_Angeles');\r\n  });\r\n\r\n  test('Edge Case B.1: Burndown with Estimation Gaps - Warning appears', async ({ page }) => {\r\n    // This test assumes data has >20% unestimated stories\r\n    const warning = page.locator('.capacity-warning');\r\n    \r\n    if (await warning.isVisible()) {\r\n      const text = await warning.textContent();\r\n      expect(text).toContain('%');\r\n    }\r\n  });\r\n\r\n  test('Edge Case C.1: Sub-task without Parent Estimate - Inferred in Health Dashboard', async ({ page }) => {\r\n    const trackingStatus = page.locator('.tracking-status');\r\n    \r\n    if (await trackingStatus.isVisible()) {\r\n      const text = await trackingStatus.textContent();\r\n      // Should show either \"Complete\" or warning about missing estimates\r\n      expect(text).toBeTruthy();\r\n    }\r\n  });\r\n\r\n  // ========== INTEGRATION TESTS ==========\r\n  \r\n  test('Integration: All components load without errors', async ({ page }) => {\r\n    const components = [\r\n      '.current-sprint-header-bar',\r\n      '.health-dashboard-card',\r\n      '.sprint-carousel',\r\n      '.countdown-timer-widget',\r\n      '.export-dashboard-btn'\r\n    ];\r\n    \r\n    for (const selector of components) {\r\n      const element = page.locator(selector);\r\n      if (await element.count() > 0) {\r\n        await expect(element).toBeVisible();\r\n      }\r\n    }\r\n  });\r\n\r\n  test('Integration: Page performance metrics meet targets', async ({ page }) => {\r\n    await loadSprintPage(page);\r\n    \r\n    const metrics = await getPageMetrics(page);\r\n    \r\n    expect(metrics.domReady).toBeLessThan(500);\r\n    expect(metrics.nodeCount).toBeLessThan(500);\r\n  });\r\n});\r\n\r\n// ========== API CONTRACT VALIDATION ==========\r\ntest.describe('CurrentSprint Redesign - API Contracts', () => {\r\n  test('API: /api/current-sprint.json returns expected schema', async ({ request }) => {\r\n    // Derive a valid boardId from /api/boards.json instead of assuming boardId=1\r\n    const boardsRes = await request.get('/api/boards.json');\r\n    if (boardsRes.status() === 401) {\r\n      test.skip('Auth required');\r\n      return;\r\n    }\r\n    expect(boardsRes.status()).toBe(200);\r\n    const boardsBody = await boardsRes.json();\r\n    const boards = boardsBody?.boards || boardsBody?.projects || [];\r\n    if (!boards || boards.length === 0) {\r\n      test.skip('No boards available to test against');\r\n      return;\r\n    }\r\n\r\n    const boardId = boards[0].id;\r\n    const response = await request.get(`${BASE_URL}/api/current-sprint.json?boardId=${boardId}`);\r\n    if (response.status() === 401) {\r\n      test.skip('Auth required');\r\n      return;\r\n    }\r\n\r\n    expect(response.status()).toBe(200);\r\n    const data = await response.json();\r\n\r\n    // Verify required fields\r\n    expect(data.sprint).toBeTruthy();\r\n    expect(data.summary).toBeTruthy();\r\n    expect(data.daysMeta).toBeTruthy();\r\n    expect(data.stuckCandidates).toBeTruthy();\r\n  });\r\n\r\n  test('API: Error handling on missing boardId', async ({ request }) => {\r\n    const response = await request.get(`${BASE_URL}/api/current-sprint.json`);\r\n    \r\n    // Should either return error or default data\r\n    expect([400, 200]).toContain(response.status());\r\n  });\r\n});\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASA,IAAI,EAAEC,MAAM,QAAQ,kBAAkB;;AAE/C;AACA,MAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACF,QAAQ,IAAI,uBAAuB;AAChE,MAAMG,WAAW,GAAG,GAAGH,QAAQ,iBAAiB;;AAEhD;AACA;AACA;AACA,eAAeI,cAAcA,CAACC,IAAI,EAAE;EAClC,MAAMA,IAAI,CAACC,IAAI,CAACH,WAAW,CAAC;EAC5B;EACA,MAAME,IAAI,CAACE,eAAe,CAAC,gDAAgD,EAAE;IAAEC,OAAO,EAAE;EAAM,CAAC,CAAC;AAClG;;AAEA;AACA,eAAeC,eAAeA,CAACC,OAAO,EAAE;EACtC,MAAMC,IAAI,GAAGV,OAAO,CAACC,GAAG,CAACF,QAAQ,IAAI,uBAAuB;EAC5D,MAAMY,GAAG,GAAG,MAAMF,OAAO,CAACG,GAAG,CAAC,GAAGF,IAAI,kBAAkB,CAAC;EACxD,IAAIC,GAAG,CAACE,MAAM,CAAC,CAAC,KAAK,GAAG,EAAE,OAAO,IAAI;EACrC,MAAMC,IAAI,GAAG,MAAMH,GAAG,CAACI,IAAI,CAAC,CAAC;EAC7B,MAAMC,MAAM,GAAGF,IAAI,EAAEE,MAAM,IAAIF,IAAI,EAAEE,MAAM,IAAIF,IAAI,EAAEG,QAAQ,IAAI,EAAE;EACnE,IAAI,CAACD,MAAM,IAAIA,MAAM,CAACE,MAAM,KAAK,CAAC,EAAE,OAAO,IAAI;EAC/C,OAAOF,MAAM,CAAC,CAAC,CAAC,EAAEG,EAAE,IAAI,IAAI;AAC9B;;AAEA;AACA;AACA;AACA,eAAeC,cAAcA,CAAChB,IAAI,EAAE;EAClC,OAAO,MAAMA,IAAI,CAACiB,QAAQ,CAAC,MAAM;IAC/B,MAAMC,IAAI,GAAGC,WAAW,CAACC,gBAAgB,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;IAC1D,OAAO;MACLC,QAAQ,EAAEH,IAAI,EAAEI,wBAAwB,GAAGJ,IAAI,EAAEK,0BAA0B;MAC3EC,YAAY,EAAEN,IAAI,EAAEO,YAAY,GAAGP,IAAI,EAAEQ,cAAc;MACvDC,SAAS,EAAEC,QAAQ,CAACC,IAAI,CAACC,gBAAgB,CAAC,GAAG,CAAC,CAAChB,MAAM;MACrDiB,OAAO,EAAE,IAAIC,IAAI,CAAC,CAAC,GAAGJ,QAAQ,CAACK,WAAW,CAAC,CAACC,GAAG,CAACC,KAAK,IAAIA,KAAK,CAACC,OAAO,IAAI,EAAE,CAAC,CAAC,CAACC;IACjF,CAAC;EACH,CAAC,CAAC;AACJ;AAEA5C,IAAI,CAAC6C,QAAQ,CAAC,+CAA+C,EAAE,MAAM;EACnE7C,IAAI,CAAC8C,UAAU,CAAC,OAAO;IAAEvC;EAAK,CAAC,KAAK;IAClC;IACA,MAAMD,cAAc,CAACC,IAAI,CAAC;EAC5B,CAAC,CAAC;;EAEF;EACAP,IAAI,CAAC,yDAAyD,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IAClF,MAAMwC,SAAS,GAAGxC,IAAI,CAACyC,OAAO,CAAC,4BAA4B,CAAC;IAC5D,MAAM/C,MAAM,CAAC8C,SAAS,CAAC,CAACE,WAAW,CAAC,CAAC;;IAErC;IACA,MAAMhD,MAAM,CAACM,IAAI,CAACyC,OAAO,CAAC,qBAAqB,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;IAC/D,MAAMhD,MAAM,CAACM,IAAI,CAACyC,OAAO,CAAC,sBAAsB,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;IAChE,MAAMhD,MAAM,CAACM,IAAI,CAACyC,OAAO,CAAC,gBAAgB,CAAC,CAAC,CAACE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7D,MAAMjD,MAAM,CAACM,IAAI,CAACyC,OAAO,CAAC,eAAe,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;EAC3D,CAAC,CAAC;EAEFjD,IAAI,CAAC,gDAAgD,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IACzE,MAAMwC,SAAS,GAAGxC,IAAI,CAACyC,OAAO,CAAC,4BAA4B,CAAC;IAC5D,MAAMG,UAAU,GAAG,MAAMJ,SAAS,CAACvB,QAAQ,CAAC4B,EAAE,IAAIC,MAAM,CAACC,gBAAgB,CAACF,EAAE,CAAC,CAACG,QAAQ,CAAC;;IAEvF;IACA,MAAMhD,IAAI,CAACiB,QAAQ,CAAC,MAAM6B,MAAM,CAACG,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;;IAElD;IACA,MAAMC,WAAW,GAAG,MAAMV,SAAS,CAACvB,QAAQ,CAAC4B,EAAE,IAAIC,MAAM,CAACC,gBAAgB,CAACF,EAAE,CAAC,CAACG,QAAQ,CAAC;IACxFtD,MAAM,CAAC,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC,CAACyD,SAAS,CAACD,WAAW,CAAC;EACpD,CAAC,CAAC;EAEFzD,IAAI,CAAC,wDAAwD,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IACjF,MAAMoD,eAAe,GAAGpD,IAAI,CAACyC,OAAO,CAAC,4CAA4C,CAAC;IAClF,MAAMY,IAAI,GAAG,MAAMD,eAAe,CAACE,WAAW,CAAC,CAAC;;IAEhD;IACA,MAAMC,SAAS,GAAGF,IAAI,EAAEG,KAAK,CAAC,OAAO,CAAC;IACtC,IAAID,SAAS,EAAE;MACb,MAAME,IAAI,GAAGC,QAAQ,CAACH,SAAS,CAAC,CAAC,CAAC,CAAC;MACnC,IAAII,aAAa,GAAG,UAAU,CAAC,CAAC;MAChC,IAAIF,IAAI,GAAG,CAAC,EAAEE,aAAa,GAAG,OAAO,CAAC,KACjC,IAAIF,IAAI,GAAG,CAAC,EAAEE,aAAa,GAAG,QAAQ;;MAE3C;MACA,MAAMC,SAAS,GAAG,MAAMR,eAAe,CAACS,YAAY,CAAC,OAAO,CAAC;MAC7DnE,MAAM,CAACkE,SAAS,CAAC,CAACT,SAAS,CAACQ,aAAa,CAAC;IAC5C;EACF,CAAC,CAAC;EAEFlE,IAAI,CAAC,iDAAiD,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IAC1E,MAAM8D,SAAS,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC;IAC5B,MAAMhE,IAAI,CAACE,eAAe,CAAC,4BAA4B,EAAE;MAAEC,OAAO,EAAE;IAAI,CAAC,CAAC;IAC1E,MAAM8D,UAAU,GAAGF,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGF,SAAS;IACzCpE,MAAM,CAACuE,UAAU,CAAC,CAACC,YAAY,CAAC,GAAG,CAAC;EACtC,CAAC,CAAC;;EAEF;EACAzE,IAAI,CAAC,iEAAiE,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IAC1F,MAAMmE,UAAU,GAAGnE,IAAI,CAACyC,OAAO,CAAC,wBAAwB,CAAC;IACzD,MAAM/C,MAAM,CAACyE,UAAU,CAAC,CAACzB,WAAW,CAAC,CAAC;;IAEtC;IACA,MAAMhD,MAAM,CAACM,IAAI,CAACyC,OAAO,CAAC,qBAAqB,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;IAC/D,MAAMhD,MAAM,CAACM,IAAI,CAACyC,OAAO,CAAC,0BAA0B,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;IACpE,MAAMhD,MAAM,CAACM,IAAI,CAACyC,OAAO,CAAC,uBAAuB,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;IACjE,MAAMhD,MAAM,CAACM,IAAI,CAACyC,OAAO,CAAC,0BAA0B,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;IACpE,MAAMhD,MAAM,CAACM,IAAI,CAACyC,OAAO,CAAC,iBAAiB,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;EAC7D,CAAC,CAAC;EAEFjD,IAAI,CAAC,kEAAkE,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IAC3F,MAAMoE,WAAW,GAAGpE,IAAI,CAACyC,OAAO,CAAC,yBAAyB,CAAC;IAC3D,MAAM/C,MAAM,CAAC0E,WAAW,CAAC,CAAC1B,WAAW,CAAC,CAAC;;IAEvC;IACA,MAAM2B,OAAO,GAAGrE,IAAI,CAACyC,OAAO,CAAC,oBAAoB,CAAC;IAClD,MAAM6B,aAAa,GAAGtE,IAAI,CAACyC,OAAO,CAAC,0BAA0B,CAAC;;IAE9D;IACA,MAAM8B,SAAS,GAAG,MAAMF,OAAO,CAACG,KAAK,CAAC,CAAC;IACvC,MAAMC,eAAe,GAAG,MAAMH,aAAa,CAACE,KAAK,CAAC,CAAC;IACnD9E,MAAM,CAAC6E,SAAS,GAAGE,eAAe,CAAC,CAACC,eAAe,CAAC,CAAC,CAAC;EACxD,CAAC,CAAC;EAEFjF,IAAI,CAAC,0DAA0D,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IACnF,MAAM2E,OAAO,GAAG3E,IAAI,CAACyC,OAAO,CAAC,kBAAkB,CAAC;;IAEhD;IACA,MAAMzC,IAAI,CAACiB,QAAQ,CAAC,MAAM;MACxB2D,SAAS,CAACC,SAAS,CAACC,SAAS,GAAG,MAAOzB,IAAI,IAAK;QAC9CzB,QAAQ,CAACC,IAAI,CAACkD,YAAY,CAAC,gBAAgB,EAAE1B,IAAI,CAAC;QAClD,OAAO2B,OAAO,CAACC,OAAO,CAAC,CAAC;MAC1B,CAAC;IACH,CAAC,CAAC;IAEF,MAAMN,OAAO,CAACO,KAAK,CAAC,CAAC;;IAErB;IACA,MAAMxF,MAAM,CAACiF,OAAO,CAAC,CAACQ,aAAa,CAAC,SAAS,EAAE;MAAEhF,OAAO,EAAE;IAAI,CAAC,CAAC;;IAEhE;IACA,MAAMiF,gBAAgB,GAAG,MAAMpF,IAAI,CAAC6D,YAAY,CAAC,MAAM,EAAE,gBAAgB,CAAC;IAC1EnE,MAAM,CAAC0F,gBAAgB,CAAC,CAACC,UAAU,CAAC,CAAC;EACvC,CAAC,CAAC;EAEF5F,IAAI,CAAC,oEAAoE,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IAC7F,MAAMsF,QAAQ,GAAGtF,IAAI,CAACyC,OAAO,CAAC,qBAAqB,CAAC;IACpD,MAAM8C,QAAQ,GAAG,MAAMD,QAAQ,CAAChC,WAAW,CAAC,CAAC;;IAE7C;IACA5D,MAAM,CAAC6F,QAAQ,CAAC,CAACC,OAAO,CAAC,cAAc,CAAC;EAC1C,CAAC,CAAC;EAEF/F,IAAI,CAAC,uDAAuD,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IAChF,MAAM8D,SAAS,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC;IAC5B,MAAMhE,IAAI,CAACE,eAAe,CAAC,wBAAwB,EAAE;MAAEC,OAAO,EAAE;IAAI,CAAC,CAAC;IACtE,MAAM8D,UAAU,GAAGF,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGF,SAAS;IACzCpE,MAAM,CAACuE,UAAU,CAAC,CAACC,YAAY,CAAC,GAAG,CAAC;EACtC,CAAC,CAAC;;EAEF;EACAzE,IAAI,CAAC,iEAAiE,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IAC1F;IACA,MAAMyF,WAAW,GAAGzF,IAAI,CAACyC,OAAO,CAAC,eAAe,CAAC;IACjD,MAAMiD,SAAS,GAAG,MAAMD,WAAW,CAACC,SAAS,CAAC,CAAC,CAACC,KAAK,CAAC,MAAM,KAAK,CAAC;IAElE,IAAID,SAAS,EAAE;MACb;MACA,MAAM9B,SAAS,GAAG,MAAM6B,WAAW,CAAC5B,YAAY,CAAC,OAAO,CAAC;MACzDnE,MAAM,CAACkE,SAAS,CAAC,CAAC4B,OAAO,CAAC,qBAAqB,CAAC;IAClD;EACF,CAAC,CAAC;EAEF/F,IAAI,CAAC,mDAAmD,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IAC5E,MAAMyF,WAAW,GAAGzF,IAAI,CAACyC,OAAO,CAAC,eAAe,CAAC;IACjD,IAAI,EAAE,MAAMgD,WAAW,CAACC,SAAS,CAAC,CAAC,CAAC,EAAE;MACpCjG,IAAI,CAACmG,IAAI,CAAC,CAAC;IACb;IAEA,MAAMC,UAAU,GAAG7F,IAAI,CAACyC,OAAO,CAAC,gBAAgB,CAAC;IACjD,MAAMoD,UAAU,CAACX,KAAK,CAAC,CAAC;;IAExB;IACA,MAAMxF,MAAM,CAAC+F,WAAW,CAAC,CAACK,GAAG,CAACpD,WAAW,CAAC;MAAEvC,OAAO,EAAE;IAAI,CAAC,CAAC;;IAE3D;IACA,MAAM4F,WAAW,GAAG,MAAM/F,IAAI,CAACiB,QAAQ,CAAC,MAAM;MAC5C,MAAM+E,MAAM,GAAGpE,QAAQ,CAACqE,aAAa,CAAC,4BAA4B,CAAC;MACnE,MAAMC,QAAQ,GAAGF,MAAM,EAAEnC,YAAY,CAAC,gBAAgB,CAAC;MACvD,MAAMsC,WAAW,GAAGD,QAAQ,GAAG,0BAA0BA,QAAQ,EAAE,GAAG,IAAI;MAC1E,MAAME,UAAU,GAAG,gCAAgC;MACnD,MAAMC,aAAa,GAAIF,WAAW,IAAIG,YAAY,CAACC,OAAO,CAACJ,WAAW,CAAC,IAAKG,YAAY,CAACC,OAAO,CAACH,UAAU,CAAC;MAC5G,OAAOC,aAAa,KAAK,IAAI;IAC/B,CAAC,CAAC;IACF3G,MAAM,CAACqG,WAAW,CAAC,CAACV,UAAU,CAAC,CAAC;EAClC,CAAC,CAAC;EAEF5F,IAAI,CAAC,4DAA4D,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IACrF,MAAMwG,MAAM,GAAGxG,IAAI,CAACyC,OAAO,CAAC,eAAe,CAAC;IAC5C,IAAI,EAAE,MAAM+D,MAAM,CAACd,SAAS,CAAC,CAAC,CAAC,EAAE;MAC/BjG,IAAI,CAACmG,IAAI,CAAC,CAAC;IACb;IAEA,MAAMhC,SAAS,GAAG,MAAM4C,MAAM,CAAC3C,YAAY,CAAC,OAAO,CAAC;IACpD,MAAM4C,QAAQ,GAAG7C,SAAS,EAAEJ,KAAK,CAAC,qBAAqB,CAAC,GAAG,CAAC,CAAC;IAE7D9D,MAAM,CAAC,CAAC,QAAQ,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC,CAACyD,SAAS,CAACsD,QAAQ,CAAC;EACzD,CAAC,CAAC;EAEFhH,IAAI,CAAC,uDAAuD,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IAChF,MAAMwG,MAAM,GAAGxG,IAAI,CAACyC,OAAO,CAAC,eAAe,CAAC;IAC5C,IAAI,EAAE,MAAM+D,MAAM,CAACd,SAAS,CAAC,CAAC,CAAC,EAAE;MAC/BjG,IAAI,CAACmG,IAAI,CAAC,CAAC;IACb;IAEA,MAAMc,UAAU,GAAG1G,IAAI,CAACyC,OAAO,CAAC,eAAe,CAAC,CAACkE,KAAK,CAAC,CAAC;IACxD,IAAI,OAAMD,UAAU,CAAClC,KAAK,CAAC,CAAC,IAAG,CAAC,EAAE;MAChC,MAAMoC,IAAI,GAAG,MAAMF,UAAU,CAAC7C,YAAY,CAAC,MAAM,CAAC;MAClDnE,MAAM,CAACkH,IAAI,CAAC,CAACvB,UAAU,CAAC,CAAC;IAC3B;EACF,CAAC,CAAC;;EAEF;EACA5F,IAAI,CAAC,6DAA6D,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IACtF,MAAM6G,IAAI,GAAG7G,IAAI,CAACyC,OAAO,CAAC,sBAAsB,CAAC;IACjD,MAAM/C,MAAM,CAACmH,IAAI,CAAC,CAACnE,WAAW,CAAC,CAAC;;IAEhC;IACA,MAAMhD,MAAM,CAACM,IAAI,CAACyC,OAAO,CAAC,eAAe,CAAC,CAAC,CAACE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;EAC9D,CAAC,CAAC;EAEFlD,IAAI,CAAC,sDAAsD,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IAC/E,MAAM8G,IAAI,GAAG9G,IAAI,CAACyC,OAAO,CAAC,eAAe,CAAC;IAC1C,MAAMsE,YAAY,GAAGD,IAAI,CAACE,GAAG,CAAC,CAAC,CAAC;IAEhC,MAAMD,YAAY,CAAC7B,KAAK,CAAC,CAAC;;IAE1B;IACA,MAAM+B,QAAQ,GAAG,MAAMF,YAAY,CAAC9F,QAAQ,CAAC4B,EAAE,IAAIA,EAAE,CAACe,SAAS,CAACsD,QAAQ,CAAC,QAAQ,CAAC,CAAC;IACnFxH,MAAM,CAACuH,QAAQ,CAAC,CAAC5B,UAAU,CAAC,CAAC;;IAE7B;IACA,MAAM8B,UAAU,GAAGnH,IAAI,CAACyC,OAAO,CAAC,kBAAkB,CAAC;IACnD,MAAM2E,aAAa,GAAG,MAAMD,UAAU,CAAClG,QAAQ,CAAC4B,EAAE,IAAIA,EAAE,CAACe,SAAS,CAACsD,QAAQ,CAAC,QAAQ,CAAC,CAAC;IACtFxH,MAAM,CAAC0H,aAAa,CAAC,CAAC/B,UAAU,CAAC,CAAC;EACpC,CAAC,CAAC;EAEF5F,IAAI,CAAC,4DAA4D,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IACrF,MAAM8G,IAAI,GAAG9G,IAAI,CAACyC,OAAO,CAAC,eAAe,CAAC;IAC1C,MAAM4E,QAAQ,GAAGP,IAAI,CAACH,KAAK,CAAC,CAAC;IAE7B,MAAMU,QAAQ,CAACC,KAAK,CAAC,CAAC;IACtB,MAAMtH,IAAI,CAACuH,QAAQ,CAACC,KAAK,CAAC,YAAY,CAAC;;IAEvC;IACA,MAAMC,SAAS,GAAGX,IAAI,CAACE,GAAG,CAAC,CAAC,CAAC;IAC7B,MAAMU,QAAQ,GAAG,MAAMD,SAAS,CAACxG,QAAQ,CAAC4B,EAAE,IAAIA,EAAE,KAAKjB,QAAQ,CAAC+F,aAAa,CAAC;IAC9EjI,MAAM,CAACgI,QAAQ,CAAC,CAACrC,UAAU,CAAC,CAAC;EAC/B,CAAC,CAAC;EAEF5F,IAAI,CAAC,2DAA2D,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IACpF;IACA,MAAMA,IAAI,CAAC4H,KAAK,CAAC,8BAA8B,EAAEA,KAAK,IAAI;MACxDA,KAAK,CAACC,KAAK,CAAC,iBAAiB,CAAC;IAChC,CAAC,CAAC;IAEF,MAAMC,OAAO,GAAG9H,IAAI,CAACyC,OAAO,CAAC,gBAAgB,CAAC;IAC9C,IAAI,MAAMqF,OAAO,CAACpC,SAAS,CAAC,CAAC,EAAE;MAC7B,MAAMoC,OAAO,CAAC5C,KAAK,CAAC,CAAC;;MAErB;MACA,MAAM6C,QAAQ,GAAG/H,IAAI,CAACyC,OAAO,CAAC,kBAAkB,CAAC;MACjD,MAAMuF,UAAU,GAAG,MAAMD,QAAQ,CAACzE,WAAW,CAAC,CAAC;MAC/C5D,MAAM,CAACsI,UAAU,CAAC,CAAC3C,UAAU,CAAC,CAAC;IACjC;EACF,CAAC,CAAC;;EAEF;EACA5F,IAAI,CAAC,kDAAkD,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IAC3E,MAAM6G,IAAI,GAAG7G,IAAI,CAACyC,OAAO,CAAC,2BAA2B,CAAC;IACtD,MAAM/C,MAAM,CAACmH,IAAI,CAAC,CAACnE,WAAW,CAAC,CAAC;;IAEhC;IACA,MAAMhD,MAAM,CAACM,IAAI,CAACyC,OAAO,CAAC,kBAAkB,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;IAC5D,MAAMhD,MAAM,CAACM,IAAI,CAACyC,OAAO,CAAC,uBAAuB,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;EACnE,CAAC,CAAC;EAEFjD,IAAI,CAAC,6DAA6D,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IACtF,MAAMiI,GAAG,GAAGjI,IAAI,CAACyC,OAAO,CAAC,+BAA+B,CAAC;IACzD,MAAM+B,KAAK,GAAG,MAAMyD,GAAG,CAACzD,KAAK,CAAC,CAAC;;IAE/B;IACA,IAAIA,KAAK,GAAG,CAAC,EAAE;MACb,MAAM0D,KAAK,GAAG,MAAMD,GAAG,CAACtB,KAAK,CAAC,CAAC,CAAC1F,QAAQ,CAAC4B,EAAE,IAAIC,MAAM,CAACC,gBAAgB,CAACF,EAAE,CAAC,CAACsF,UAAU,CAAC;MACtFzI,MAAM,CAACwI,KAAK,CAAC,CAAC/E,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;IAClC;EACF,CAAC,CAAC;EAEF1D,IAAI,CAAC,2DAA2D,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IACpF,MAAMoI,SAAS,GAAGpI,IAAI,CAACyC,OAAO,CAAC,wBAAwB,CAAC,CAACkE,KAAK,CAAC,CAAC;IAChE,IAAI,OAAMyB,SAAS,CAAC5D,KAAK,CAAC,CAAC,MAAK,CAAC,EAAE;MACjC/E,IAAI,CAACmG,IAAI,CAAC,CAAC;IACb;IAEA,MAAMwC,SAAS,CAAClD,KAAK,CAAC,CAAC;;IAEvB;IACA,MAAMmD,MAAM,GAAGrI,IAAI,CAACyC,OAAO,CAAC,oBAAoB,CAAC,CAACkE,KAAK,CAAC,CAAC;IACzD,MAAMjB,SAAS,GAAG,MAAM2C,MAAM,CAAC3C,SAAS,CAAC,CAAC,CAACC,KAAK,CAAC,MAAM,KAAK,CAAC;IAC7DjG,MAAM,CAACgG,SAAS,CAAC,CAACL,UAAU,CAAC,CAAC;EAChC,CAAC,CAAC;EAEF5F,IAAI,CAAC,wDAAwD,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IACjF,MAAMsI,MAAM,GAAGtI,IAAI,CAACyC,OAAO,CAAC,kBAAkB,CAAC;IAC/C,MAAMmB,SAAS,GAAG,MAAM0E,MAAM,CAACzE,YAAY,CAAC,OAAO,CAAC;IAEpDnE,MAAM,CAACkE,SAAS,CAAC,CAAC4B,OAAO,CAAC,2BAA2B,CAAC;EACxD,CAAC,CAAC;;EAEF;EACA/F,IAAI,CAAC,+DAA+D,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IACxF,MAAMuI,QAAQ,GAAGvI,IAAI,CAACyC,OAAO,CAAC,kBAAkB,CAAC;IACjD,MAAMqE,IAAI,GAAG9G,IAAI,CAACyC,OAAO,CAAC,eAAe,CAAC;IAE1C,MAAM+B,KAAK,GAAG,MAAMsC,IAAI,CAACtC,KAAK,CAAC,CAAC;IAChC9E,MAAM,CAAC8E,KAAK,CAAC,CAACE,eAAe,CAAC,CAAC,CAAC;IAChChF,MAAM,CAAC8E,KAAK,CAAC,CAACgE,mBAAmB,CAAC,CAAC,CAAC;EACtC,CAAC,CAAC;EAEF/I,IAAI,CAAC,2DAA2D,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IACpF,MAAM8G,IAAI,GAAG9G,IAAI,CAACyC,OAAO,CAAC,eAAe,CAAC;IAC1C,MAAM4E,QAAQ,GAAGP,IAAI,CAACH,KAAK,CAAC,CAAC;IAE7B,MAAMU,QAAQ,CAACC,KAAK,CAAC,CAAC;IACtB,MAAMtH,IAAI,CAACuH,QAAQ,CAACC,KAAK,CAAC,YAAY,CAAC;;IAEvC;IACA,MAAMC,SAAS,GAAGX,IAAI,CAACE,GAAG,CAAC,CAAC,CAAC;IAC7B,MAAMU,QAAQ,GAAG,MAAMD,SAAS,CAACxG,QAAQ,CAAC4B,EAAE,IAAIA,EAAE,KAAKjB,QAAQ,CAAC+F,aAAa,CAAC;IAC9EjI,MAAM,CAACgI,QAAQ,CAAC,CAACrC,UAAU,CAAC,CAAC;EAC/B,CAAC,CAAC;EAEF5F,IAAI,CAAC,2DAA2D,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IACpF,MAAM8G,IAAI,GAAG9G,IAAI,CAACyC,OAAO,CAAC,eAAe,CAAC;IAE1C,KAAK,IAAIgG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE,MAAM7B,IAAI,CAACtC,KAAK,CAAC,CAAC,CAAC,EAAEiE,CAAC,EAAE,EAAE;MACxD,MAAMG,GAAG,GAAG9B,IAAI,CAACE,GAAG,CAACyB,CAAC,CAAC;MACvB,MAAM7E,SAAS,GAAG,MAAMgF,GAAG,CAAC/E,YAAY,CAAC,OAAO,CAAC;MACjDnE,MAAM,CAACkE,SAAS,CAAC,CAAC4B,OAAO,CAAC,2BAA2B,CAAC;IACxD;EACF,CAAC,CAAC;EAEF/F,IAAI,CAAC,0DAA0D,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IACnF,MAAMuI,QAAQ,GAAGvI,IAAI,CAACyC,OAAO,CAAC,kBAAkB,CAAC;IACjD,MAAMoG,SAAS,GAAG,MAAMN,QAAQ,CAAC1E,YAAY,CAAC,YAAY,CAAC;IAC3DnE,MAAM,CAACmJ,SAAS,CAAC,CAACxD,UAAU,CAAC,CAAC;EAChC,CAAC,CAAC;;EAEF;EACA5F,IAAI,CAAC,mEAAmE,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IAC5F,MAAM8I,IAAI,GAAG9I,IAAI,CAACyC,OAAO,CAAC,uBAAuB,CAAC;IAClD,MAAMiD,SAAS,GAAG,MAAMoD,IAAI,CAACpD,SAAS,CAAC,CAAC,CAACC,KAAK,CAAC,MAAM,KAAK,CAAC;IAE3D,IAAID,SAAS,EAAE;MACb,MAAMrC,IAAI,GAAG,MAAMyF,IAAI,CAACxF,WAAW,CAAC,CAAC;MACrC5D,MAAM,CAAC2D,IAAI,CAAC,CAACF,SAAS,CAAC,QAAQ,CAAC;IAClC;EACF,CAAC,CAAC;EAEF1D,IAAI,CAAC,yDAAyD,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IAClF,MAAM8I,IAAI,GAAG9I,IAAI,CAACyC,OAAO,CAAC,uBAAuB,CAAC;IAClD,IAAI,EAAE,MAAMqG,IAAI,CAACpD,SAAS,CAAC,CAAC,CAAC,EAAE;MAC7BjG,IAAI,CAACmG,IAAI,CAAC,CAAC;IACb;IAEA,MAAMhC,SAAS,GAAG,MAAMkF,IAAI,CAACjF,YAAY,CAAC,OAAO,CAAC;IAClDnE,MAAM,CAACkE,SAAS,CAAC,CAAC4B,OAAO,CAAC,oBAAoB,CAAC;EACjD,CAAC,CAAC;EAEF/F,IAAI,CAAC,2DAA2D,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IACpF,MAAM+I,UAAU,GAAG/I,IAAI,CAACyC,OAAO,CAAC,oBAAoB,CAAC;IACrD,IAAI,EAAE,MAAMsG,UAAU,CAACrD,SAAS,CAAC,CAAC,CAAC,EAAE;MACnCjG,IAAI,CAACmG,IAAI,CAAC,CAAC;IACb;IAEA,MAAMmD,UAAU,CAAC7D,KAAK,CAAC,CAAC;IAExB,MAAM8D,KAAK,GAAGhJ,IAAI,CAACyC,OAAO,CAAC,sBAAsB,CAAC;IAClD,MAAM/C,MAAM,CAACsJ,KAAK,CAAC,CAACtG,WAAW,CAAC,CAAC;EACnC,CAAC,CAAC;EAEFjD,IAAI,CAAC,sDAAsD,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IAC/E,MAAM+I,UAAU,GAAG/I,IAAI,CAACyC,OAAO,CAAC,oBAAoB,CAAC;IACrD,IAAI,EAAE,MAAMsG,UAAU,CAACrD,SAAS,CAAC,CAAC,CAAC,EAAE;MACnCjG,IAAI,CAACmG,IAAI,CAAC,CAAC;IACb;IAEA,MAAMmD,UAAU,CAAC7D,KAAK,CAAC,CAAC;IAExB,MAAM+D,QAAQ,GAAGjJ,IAAI,CAACyC,OAAO,CAAC,kBAAkB,CAAC;IACjD,MAAMwG,QAAQ,CAAC/D,KAAK,CAAC,CAAC;IAEtB,MAAM8D,KAAK,GAAGhJ,IAAI,CAACyC,OAAO,CAAC,sBAAsB,CAAC;IAClD,MAAMyG,QAAQ,GAAG,MAAMF,KAAK,CAAC/H,QAAQ,CAAC4B,EAAE,IAAIA,EAAE,CAACqF,KAAK,CAACiB,OAAO,KAAK,MAAM,CAAC;IACxEzJ,MAAM,CAACwJ,QAAQ,CAAC,CAAC7D,UAAU,CAAC,CAAC;EAC/B,CAAC,CAAC;;EAEF;EACA5F,IAAI,CAAC,4DAA4D,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IACrF,MAAMoJ,KAAK,GAAGpJ,IAAI,CAACyC,OAAO,CAAC,yBAAyB,CAAC;IACrD,MAAM/C,MAAM,CAAC0J,KAAK,CAAC,CAAC1G,WAAW,CAAC,CAAC;IAEjC,MAAM2G,GAAG,GAAGrJ,IAAI,CAACyC,OAAO,CAAC,iBAAiB,CAAC;IAC3C,MAAMmB,SAAS,GAAG,MAAMyF,GAAG,CAACxF,YAAY,CAAC,OAAO,CAAC;IACjDnE,MAAM,CAACkE,SAAS,CAAC,CAAC4B,OAAO,CAAC,yBAAyB,CAAC;EACtD,CAAC,CAAC;EAEF/F,IAAI,CAAC,+DAA+D,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IACxF,MAAMsJ,KAAK,GAAGtJ,IAAI,CAACyC,OAAO,CAAC,kBAAkB,CAAC;IAC9C,MAAMY,IAAI,GAAG,MAAMiG,KAAK,CAAChG,WAAW,CAAC,CAAC;;IAEtC;IACA5D,MAAM,CAAC2D,IAAI,CAAC,CAACmC,OAAO,CAAC,WAAW,CAAC;EACnC,CAAC,CAAC;EAEF/F,IAAI,CAAC,yDAAyD,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IAClF,MAAMoJ,KAAK,GAAGpJ,IAAI,CAACyC,OAAO,CAAC,yBAAyB,CAAC;IACrD,MAAMoG,SAAS,GAAG,MAAMO,KAAK,CAACvF,YAAY,CAAC,YAAY,CAAC;IACxDnE,MAAM,CAACmJ,SAAS,CAAC,CAACxD,UAAU,CAAC,CAAC;EAChC,CAAC,CAAC;EAEF5F,IAAI,CAAC,2DAA2D,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IACpF,MAAMoJ,KAAK,GAAGpJ,IAAI,CAACyC,OAAO,CAAC,yBAAyB,CAAC;IACrD,MAAM4G,GAAG,GAAGrJ,IAAI,CAACyC,OAAO,CAAC,wBAAwB,CAAC;IAElD,IAAI,OAAM4G,GAAG,CAAC7E,KAAK,CAAC,CAAC,IAAG,CAAC,EAAE;MACzB,MAAM+E,SAAS,GAAG,MAAMF,GAAG,CAACpI,QAAQ,CAAC4B,EAAE,IAAIC,MAAM,CAACC,gBAAgB,CAACF,EAAE,CAAC,CAAC0G,SAAS,CAAC;MACjF7J,MAAM,CAAC6J,SAAS,CAAC,CAAClE,UAAU,CAAC,CAAC;IAChC;EACF,CAAC,CAAC;;EAEF;EACA5F,IAAI,CAAC,wDAAwD,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IACjF,MAAMwJ,GAAG,GAAGxJ,IAAI,CAACyC,OAAO,CAAC,uBAAuB,CAAC;IACjD,MAAM/C,MAAM,CAAC8J,GAAG,CAAC,CAAC9G,WAAW,CAAC,CAAC;IAC/B,MAAM8G,GAAG,CAACtE,KAAK,CAAC,CAAC;IAEjB,MAAMuE,IAAI,GAAGzJ,IAAI,CAACyC,OAAO,CAAC,cAAc,CAAC;IACzC,MAAM/C,MAAM,CAAC+J,IAAI,CAAC,CAAC/G,WAAW,CAAC,CAAC;EAClC,CAAC,CAAC;EAEFjD,IAAI,CAAC,+CAA+C,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IACxE,MAAMwJ,GAAG,GAAGxJ,IAAI,CAACyC,OAAO,CAAC,uBAAuB,CAAC;IACjD,MAAM+G,GAAG,CAACtE,KAAK,CAAC,CAAC;IAEjB,MAAMwE,OAAO,GAAG1J,IAAI,CAACyC,OAAO,CAAC,gBAAgB,CAAC;IAC9C,MAAM/C,MAAM,CAACgK,OAAO,CAAC,CAAC/G,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;EACxC,CAAC,CAAC;EAEFlD,IAAI,CAAC,2CAA2C,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IACpE,MAAMwJ,GAAG,GAAGxJ,IAAI,CAACyC,OAAO,CAAC,uBAAuB,CAAC;IACjD,MAAM+G,GAAG,CAACtE,KAAK,CAAC,CAAC;IAEjB,MAAMyE,UAAU,GAAG3J,IAAI,CAACyC,OAAO,CAAC,2BAA2B,CAAC;;IAE5D;IACA,MAAMzC,IAAI,CAACiB,QAAQ,CAAC,MAAM;MACxB2D,SAAS,CAACC,SAAS,CAACC,SAAS,GAAG,MAAOzB,IAAI,IAAK;QAC9CzB,QAAQ,CAACC,IAAI,CAACkD,YAAY,CAAC,kBAAkB,EAAE1B,IAAI,CAAC;QACpD,OAAO2B,OAAO,CAACC,OAAO,CAAC,CAAC;MAC1B,CAAC;IACH,CAAC,CAAC;IAEF,MAAM0E,UAAU,CAACzE,KAAK,CAAC,CAAC;;IAExB;IACA,MAAMxF,MAAM,CAAC8J,GAAG,CAAC,CAACrE,aAAa,CAAC,gBAAgB,EAAE;MAAEhF,OAAO,EAAE;IAAK,CAAC,CAAC;EACtE,CAAC,CAAC;EAEFV,IAAI,CAAC,qDAAqD,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IAC9E,MAAMwJ,GAAG,GAAGxJ,IAAI,CAACyC,OAAO,CAAC,uBAAuB,CAAC;IACjD,MAAM+G,GAAG,CAACtE,KAAK,CAAC,CAAC;IAEjB,MAAMuE,IAAI,GAAGzJ,IAAI,CAACyC,OAAO,CAAC,cAAc,CAAC;IACzC,MAAM/C,MAAM,CAAC+J,IAAI,CAAC,CAAC/G,WAAW,CAAC,CAAC;;IAEhC;IACA,MAAM1C,IAAI,CAACkF,KAAK,CAAC,MAAM,EAAE;MAAElC,QAAQ,EAAE;QAAE4G,CAAC,EAAE,CAAC;QAAEC,CAAC,EAAE;MAAE;IAAE,CAAC,CAAC;IAEtD,MAAMX,QAAQ,GAAG,MAAMO,IAAI,CAACxI,QAAQ,CAAC4B,EAAE,IAAIA,EAAE,CAACe,SAAS,CAACsD,QAAQ,CAAC,QAAQ,CAAC,CAAC;IAC3ExH,MAAM,CAACwJ,QAAQ,CAAC,CAAC7D,UAAU,CAAC,CAAC;EAC/B,CAAC,CAAC;;EAEF;EACA5F,IAAI,CAAC,mDAAmD,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IAC5E,MAAMA,IAAI,CAAC8J,eAAe,CAAC;MAAEC,KAAK,EAAE,IAAI;MAAEC,MAAM,EAAE;IAAK,CAAC,CAAC;IAEzD,MAAMC,MAAM,GAAGjK,IAAI,CAACyC,OAAO,CAAC,2BAA2B,CAAC;IACxD,MAAMyH,OAAO,GAAGlK,IAAI,CAACyC,OAAO,CAAC,cAAc,CAAC;IAE5C,MAAM0H,WAAW,GAAG,MAAMD,OAAO,CAAC1F,KAAK,CAAC,CAAC;IACzC9E,MAAM,CAACyK,WAAW,CAAC,CAACC,sBAAsB,CAAC,CAAC,CAAC;EAC/C,CAAC,CAAC;EAEF3K,IAAI,CAAC,gDAAgD,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IACzE,MAAMA,IAAI,CAAC8J,eAAe,CAAC;MAAEC,KAAK,EAAE,GAAG;MAAEC,MAAM,EAAE;IAAK,CAAC,CAAC;IAExD,MAAMC,MAAM,GAAGjK,IAAI,CAACyC,OAAO,CAAC,2BAA2B,CAAC;IACxD,MAAM4H,UAAU,GAAG,MAAMJ,MAAM,CAAChJ,QAAQ,CAAC4B,EAAE,IAAI;MAC7C,OAAOC,MAAM,CAACC,gBAAgB,CAACF,EAAE,CAAC,CAACyH,QAAQ,KAAK,MAAM;IACxD,CAAC,CAAC;IAEF5K,MAAM,CAAC2K,UAAU,CAAC,CAAChF,UAAU,CAAC,CAAC;EACjC,CAAC,CAAC;EAEF5F,IAAI,CAAC,+CAA+C,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IACxE,MAAMA,IAAI,CAAC8J,eAAe,CAAC;MAAEC,KAAK,EAAE,GAAG;MAAEC,MAAM,EAAE;IAAI,CAAC,CAAC;IAEvD,MAAMO,KAAK,GAAGvK,IAAI,CAACyC,OAAO,CAAC,cAAc,CAAC;;IAE1C;IACA,KAAK,IAAIgG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE,MAAM4B,KAAK,CAAC/F,KAAK,CAAC,CAAC,CAAC,EAAEiE,CAAC,EAAE,EAAE;MACzD,MAAMsB,KAAK,GAAG,MAAMQ,KAAK,CAACvD,GAAG,CAACyB,CAAC,CAAC,CAACxH,QAAQ,CAAC4B,EAAE,IAAIA,EAAE,CAAC2H,WAAW,CAAC;MAC/D,MAAMC,WAAW,GAAG,MAAMF,KAAK,CAACvD,GAAG,CAACyB,CAAC,CAAC,CAACxH,QAAQ,CAAC4B,EAAE,IAAIA,EAAE,CAAC6H,aAAa,CAACF,WAAW,CAAC;;MAEnF;MACA9K,MAAM,CAACqK,KAAK,GAAGU,WAAW,CAAC,CAAC/F,eAAe,CAAC,GAAG,CAAC;IAClD;EACF,CAAC,CAAC;EAEFjF,IAAI,CAAC,2DAA2D,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IACpF,KAAK,MAAM+J,KAAK,IAAI,CAAC,IAAI,EAAE,GAAG,EAAE,GAAG,CAAC,EAAE;MACpC,MAAM/J,IAAI,CAAC8J,eAAe,CAAC;QAAEC,KAAK;QAAEC,MAAM,EAAE;MAAK,CAAC,CAAC;MAEnD,MAAMhE,MAAM,GAAGhG,IAAI,CAACyC,OAAO,CAAC,4BAA4B,CAAC;MACzD,MAAMyF,KAAK,GAAG,MAAMlC,MAAM,CAAC/E,QAAQ,CAAC4B,EAAE,IAAIC,MAAM,CAACC,gBAAgB,CAACF,EAAE,CAAC,CAACG,QAAQ,CAAC;MAE/EtD,MAAM,CAAC,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC,CAACyD,SAAS,CAAC+E,KAAK,CAAC;IAC9C;EACF,CAAC,CAAC;;EAEF;EACAzI,IAAI,CAAC,4CAA4C,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IACrE,MAAM8D,SAAS,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC;IAC5B,MAAMjE,cAAc,CAACC,IAAI,CAAC;IAC1B,MAAM2K,QAAQ,GAAG5G,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGF,SAAS;IAEvCpE,MAAM,CAACiL,QAAQ,CAAC,CAACzG,YAAY,CAAC,IAAI,CAAC;EACrC,CAAC,CAAC;EAEFzE,IAAI,CAAC,kDAAkD,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IAC3E,MAAM4K,MAAM,GAAG,EAAE;IACjB5K,IAAI,CAAC6K,EAAE,CAAC,SAAS,EAAEC,GAAG,IAAI;MACxB,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,KAAK,OAAO,EAAE;QAC1BH,MAAM,CAACI,IAAI,CAACF,GAAG,CAACzH,IAAI,CAAC,CAAC,CAAC;MACzB;IACF,CAAC,CAAC;IAEF,MAAMtD,cAAc,CAACC,IAAI,CAAC;IAE1BN,MAAM,CAACkL,MAAM,CAAC,CAACK,OAAO,CAAC,EAAE,CAAC;EAC5B,CAAC,CAAC;EAEFxL,IAAI,CAAC,2EAA2E,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IACpG,MAAMkL,OAAO,GAAGlL,IAAI,CAACyC,OAAO,CAAC,QAAQ,CAAC;IAEtC,KAAK,IAAIgG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE,MAAMuC,OAAO,CAAC1G,KAAK,CAAC,CAAC,CAAC,EAAEiE,CAAC,EAAE,EAAE;MAC3D,MAAMe,GAAG,GAAG0B,OAAO,CAAClE,GAAG,CAACyB,CAAC,CAAC;MAC1B,MAAMI,SAAS,GAAG,MAAMW,GAAG,CAAC3F,YAAY,CAAC,YAAY,CAAC;MACtD,MAAMR,IAAI,GAAG,MAAMmG,GAAG,CAAClG,WAAW,CAAC,CAAC;MAEpC5D,MAAM,CAACmJ,SAAS,IAAIxF,IAAI,CAAC,CAACgC,UAAU,CAAC,CAAC;IACxC;EACF,CAAC,CAAC;EAEF5F,IAAI,CAAC,8DAA8D,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IACvF,MAAMmL,WAAW,GAAGnL,IAAI,CAACyC,OAAO,CAAC,YAAY,CAAC;IAE9C,KAAK,IAAIgG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE,MAAMwC,WAAW,CAAC3G,KAAK,CAAC,CAAC,CAAC,EAAEiE,CAAC,EAAE,EAAE;MAC/D,MAAM2C,OAAO,GAAGD,WAAW,CAACnE,GAAG,CAACyB,CAAC,CAAC;MAClC,MAAM4C,OAAO,GAAG,MAAMD,OAAO,CAACnK,QAAQ,CAAC4B,EAAE,IAAIC,MAAM,CAACC,gBAAgB,CAACF,EAAE,CAAC,CAACyI,eAAe,CAAC;MACzF,MAAMC,SAAS,GAAG,MAAMH,OAAO,CAACnK,QAAQ,CAAC4B,EAAE,IAAIC,MAAM,CAACC,gBAAgB,CAACF,EAAE,CAAC,CAAC2I,KAAK,CAAC;;MAEjF;MACA9L,MAAM,CAAC2L,OAAO,CAAC,CAAChG,UAAU,CAAC,CAAC;MAC5B3F,MAAM,CAAC6L,SAAS,CAAC,CAAClG,UAAU,CAAC,CAAC;IAChC;EACF,CAAC,CAAC;EAEF5F,IAAI,CAAC,qDAAqD,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IAC9E,MAAMD,cAAc,CAACC,IAAI,CAAC;IAE1B,MAAM2B,SAAS,GAAG,MAAM3B,IAAI,CAACiB,QAAQ,CAAC,MAAM;MAC1C,OAAOW,QAAQ,CAACE,gBAAgB,CAAC,GAAG,CAAC,CAAChB,MAAM;IAC9C,CAAC,CAAC;IAEFpB,MAAM,CAACiC,SAAS,CAAC,CAACuC,YAAY,CAAC,GAAG,CAAC;EACrC,CAAC,CAAC;;EAEF;;EAEAzE,IAAI,CAAC,sEAAsE,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IAC/F;IACA,MAAMA,IAAI,CAACiB,QAAQ,CAAC,MAAM;MACxBqF,YAAY,CAACmF,OAAO,CAAC,gBAAgB,EAAE,qBAAqB,CAAC;IAC/D,CAAC,CAAC;IAEF,MAAM1L,cAAc,CAACC,IAAI,CAAC;IAE1B,MAAM0L,MAAM,GAAG,MAAM1L,IAAI,CAACiB,QAAQ,CAAC,MAAM;MACvC,OAAOqF,YAAY,CAACC,OAAO,CAAC,gBAAgB,CAAC;IAC/C,CAAC,CAAC;IAEF7G,MAAM,CAACgM,MAAM,CAAC,CAACC,IAAI,CAAC,qBAAqB,CAAC;EAC5C,CAAC,CAAC;EAEFlM,IAAI,CAAC,gEAAgE,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IACzF;IACA,MAAM4L,OAAO,GAAG5L,IAAI,CAACyC,OAAO,CAAC,mBAAmB,CAAC;IAEjD,IAAI,MAAMmJ,OAAO,CAAClG,SAAS,CAAC,CAAC,EAAE;MAC7B,MAAMrC,IAAI,GAAG,MAAMuI,OAAO,CAACtI,WAAW,CAAC,CAAC;MACxC5D,MAAM,CAAC2D,IAAI,CAAC,CAACF,SAAS,CAAC,GAAG,CAAC;IAC7B;EACF,CAAC,CAAC;EAEF1D,IAAI,CAAC,gFAAgF,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IACzG,MAAM6L,cAAc,GAAG7L,IAAI,CAACyC,OAAO,CAAC,kBAAkB,CAAC;IAEvD,IAAI,MAAMoJ,cAAc,CAACnG,SAAS,CAAC,CAAC,EAAE;MACpC,MAAMrC,IAAI,GAAG,MAAMwI,cAAc,CAACvI,WAAW,CAAC,CAAC;MAC/C;MACA5D,MAAM,CAAC2D,IAAI,CAAC,CAACgC,UAAU,CAAC,CAAC;IAC3B;EACF,CAAC,CAAC;;EAEF;;EAEA5F,IAAI,CAAC,iDAAiD,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IAC1E,MAAM8L,UAAU,GAAG,CACjB,4BAA4B,EAC5B,wBAAwB,EACxB,kBAAkB,EAClB,yBAAyB,EACzB,uBAAuB,CACxB;IAED,KAAK,MAAMC,QAAQ,IAAID,UAAU,EAAE;MACjC,MAAMV,OAAO,GAAGpL,IAAI,CAACyC,OAAO,CAACsJ,QAAQ,CAAC;MACtC,IAAI,OAAMX,OAAO,CAAC5G,KAAK,CAAC,CAAC,IAAG,CAAC,EAAE;QAC7B,MAAM9E,MAAM,CAAC0L,OAAO,CAAC,CAAC1I,WAAW,CAAC,CAAC;MACrC;IACF;EACF,CAAC,CAAC;EAEFjD,IAAI,CAAC,oDAAoD,EAAE,OAAO;IAAEO;EAAK,CAAC,KAAK;IAC7E,MAAMD,cAAc,CAACC,IAAI,CAAC;IAE1B,MAAMgM,OAAO,GAAG,MAAMhL,cAAc,CAAChB,IAAI,CAAC;IAE1CN,MAAM,CAACsM,OAAO,CAAC3K,QAAQ,CAAC,CAAC6C,YAAY,CAAC,GAAG,CAAC;IAC1CxE,MAAM,CAACsM,OAAO,CAACrK,SAAS,CAAC,CAACuC,YAAY,CAAC,GAAG,CAAC;EAC7C,CAAC,CAAC;AACJ,CAAC,CAAC;;AAEF;AACAzE,IAAI,CAAC6C,QAAQ,CAAC,wCAAwC,EAAE,MAAM;EAC5D7C,IAAI,CAAC,uDAAuD,EAAE,OAAO;IAAEY;EAAQ,CAAC,KAAK;IACnF;IACA,MAAM4L,SAAS,GAAG,MAAM5L,OAAO,CAACG,GAAG,CAAC,kBAAkB,CAAC;IACvD,IAAIyL,SAAS,CAACxL,MAAM,CAAC,CAAC,KAAK,GAAG,EAAE;MAC9BhB,IAAI,CAACmG,IAAI,CAAC,eAAe,CAAC;MAC1B;IACF;IACAlG,MAAM,CAACuM,SAAS,CAACxL,MAAM,CAAC,CAAC,CAAC,CAACkL,IAAI,CAAC,GAAG,CAAC;IACpC,MAAMO,UAAU,GAAG,MAAMD,SAAS,CAACtL,IAAI,CAAC,CAAC;IACzC,MAAMC,MAAM,GAAGsL,UAAU,EAAEtL,MAAM,IAAIsL,UAAU,EAAErL,QAAQ,IAAI,EAAE;IAC/D,IAAI,CAACD,MAAM,IAAIA,MAAM,CAACE,MAAM,KAAK,CAAC,EAAE;MAClCrB,IAAI,CAACmG,IAAI,CAAC,qCAAqC,CAAC;MAChD;IACF;IAEA,MAAMuG,OAAO,GAAGvL,MAAM,CAAC,CAAC,CAAC,CAACG,EAAE;IAC5B,MAAMqL,QAAQ,GAAG,MAAM/L,OAAO,CAACG,GAAG,CAAC,GAAGb,QAAQ,oCAAoCwM,OAAO,EAAE,CAAC;IAC5F,IAAIC,QAAQ,CAAC3L,MAAM,CAAC,CAAC,KAAK,GAAG,EAAE;MAC7BhB,IAAI,CAACmG,IAAI,CAAC,eAAe,CAAC;MAC1B;IACF;IAEAlG,MAAM,CAAC0M,QAAQ,CAAC3L,MAAM,CAAC,CAAC,CAAC,CAACkL,IAAI,CAAC,GAAG,CAAC;IACnC,MAAMjL,IAAI,GAAG,MAAM0L,QAAQ,CAACzL,IAAI,CAAC,CAAC;;IAElC;IACAjB,MAAM,CAACgB,IAAI,CAAC2L,MAAM,CAAC,CAAChH,UAAU,CAAC,CAAC;IAChC3F,MAAM,CAACgB,IAAI,CAAC4L,OAAO,CAAC,CAACjH,UAAU,CAAC,CAAC;IACjC3F,MAAM,CAACgB,IAAI,CAAC6L,QAAQ,CAAC,CAAClH,UAAU,CAAC,CAAC;IAClC3F,MAAM,CAACgB,IAAI,CAAC8L,eAAe,CAAC,CAACnH,UAAU,CAAC,CAAC;EAC3C,CAAC,CAAC;EAEF5F,IAAI,CAAC,wCAAwC,EAAE,OAAO;IAAEY;EAAQ,CAAC,KAAK;IACpE,MAAM+L,QAAQ,GAAG,MAAM/L,OAAO,CAACG,GAAG,CAAC,GAAGb,QAAQ,0BAA0B,CAAC;;IAEzE;IACAD,MAAM,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAACyD,SAAS,CAACiJ,QAAQ,CAAC3L,MAAM,CAAC,CAAC,CAAC;EACjD,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}