{"version":3,"names":["test","expect","runDefaultPreview","DEFAULT_Q2_QUERY","describe","beforeEach","page","goto","locator","toContainText","toBeChecked","toBeVisible","toBeDisabled","uncheck","title","getAttribute","toContain","setTimeout","previewVisible","isVisible","errorVisible","toBeTruthy","metaText","innerText","toLowerCase","click","toHaveClass","searchBox","fill","toHaveValue","toBeEnabled","startDate","endDate","dateDisplay","waitForTimeout","predictabilityCheckbox","modeGroup","not","check","loadingVisible","waitForSelector","state","timeout","error","stillLoading","catch","text","hasDoneStoriesText","includes","projects","start","end","skip","statusText","exportHintText","errorText","toBeHidden","toBeFocused","emptyStateText","metricsText"],"sources":["Jira-Reporting-App-E2E-User-Journey-Tests.spec.js"],"sourcesContent":["import { test, expect } from '@playwright/test';\r\nimport { runDefaultPreview } from './JiraReporting-Tests-Shared-PreviewExport-Helpers.js';\r\n\r\nconst DEFAULT_Q2_QUERY = '?projects=MPSA,MAS&start=2025-07-01T00:00:00.000Z&end=2025-09-30T23:59:59.999Z';\r\n\r\ntest.describe('Jira Reporting App - E2E User Journey Tests', () => {\r\n  test.beforeEach(async ({ page }) => {\r\n    await page.goto('/report');\r\n    await expect(page.locator('h1')).toContainText('VodaAgileBoard');\r\n  });\r\n\r\n  test('should load report page with default filters', async ({ page }) => {\r\n    // Verify page elements are present\r\n    await expect(page.locator('#project-mpsa')).toBeChecked();\r\n    await expect(page.locator('#project-mas')).toBeChecked();\r\n    await expect(page.locator('#preview-btn')).toBeVisible();\r\n    await expect(page.locator('#export-excel-btn')).toBeDisabled();\r\n    await expect(page.locator('#export-excel-btn')).toBeDisabled();\r\n  });\r\n\r\n  test('should disable preview button when no projects selected', async ({ page }) => {\r\n    // Uncheck both projects\r\n    await page.uncheck('#project-mpsa');\r\n    await page.uncheck('#project-mas');\r\n    \r\n    // Preview button should be disabled\r\n    await expect(page.locator('#preview-btn')).toBeDisabled();\r\n    \r\n    // Button should have title explaining why\r\n    const title = await page.locator('#preview-btn').getAttribute('title');\r\n    expect(title).toContain('Please select at least one project');\r\n  });\r\n\r\n  test('should show error when preview clicked with no projects', async ({ page }) => {\r\n    // Uncheck both projects\r\n    await page.uncheck('#project-mpsa');\r\n    await page.uncheck('#project-mas');\r\n    \r\n    // Try to click preview (should be disabled, but test error handling)\r\n    // Actually, button should be disabled, so we'll test the validation in the API test\r\n    await expect(page.locator('#preview-btn')).toBeDisabled();\r\n  });\r\n\r\n  test('should generate preview with valid filters', async ({ page }) => {\r\n    test.setTimeout(300000);\r\n    // Use shared helper to drive a default Q2 preview\r\n    await runDefaultPreview(page);\r\n\r\n    // Verify either preview or error appeared (both are valid outcomes)\r\n    const previewVisible = await page.locator('#preview-content').isVisible();\r\n    const errorVisible = await page.locator('#error').isVisible();\r\n    expect(previewVisible || errorVisible).toBeTruthy();\r\n\r\n    // If preview is visible, check that meta summary is rendered\r\n    if (previewVisible) {\r\n      const metaText = await page.locator('#preview-meta').innerText();\r\n      expect(metaText.toLowerCase()).toContain('summary:');\r\n      expect(metaText.toLowerCase()).toContain('boards:');\r\n    }\r\n  });\r\n\r\n  test('should display tabs after preview loads', async ({ page }) => {\r\n    test.setTimeout(300000);\r\n    // This test assumes preview will work - may need to mock or skip if no Jira access\r\n    await runDefaultPreview(page);\r\n    \r\n    // If preview loaded, check tabs\r\n    const previewVisible = await page.locator('#preview-content').isVisible();\r\n    if (previewVisible) {\r\n      await expect(page.locator('.tab-btn[data-tab=\"project-epic-level\"]')).toBeVisible();\r\n      await expect(page.locator('.tab-btn[data-tab=\"sprints\"]')).toBeVisible();\r\n      await expect(page.locator('.tab-btn[data-tab=\"done-stories\"]')).toBeVisible();\r\n    }\r\n  });\r\n\r\n  test('should switch between tabs', async ({ page }) => {\r\n    test.setTimeout(300000);\r\n    // Generate preview first\r\n    await runDefaultPreview(page);\r\n    \r\n    const previewVisible = await page.locator('#preview-content').isVisible();\r\n    if (previewVisible) {\r\n      // Click Sprints tab\r\n      await page.click('.tab-btn[data-tab=\"sprints\"]');\r\n      await expect(page.locator('#tab-sprints')).toHaveClass(/active/);\r\n      \r\n      // Click Done Stories tab\r\n      await page.click('.tab-btn[data-tab=\"done-stories\"]');\r\n      await expect(page.locator('#tab-done-stories')).toHaveClass(/active/);\r\n    }\r\n  });\r\n\r\n  test('should filter done stories by search', async ({ page }) => {\r\n    test.setTimeout(300000);\r\n    await runDefaultPreview(page);\r\n    \r\n    const previewVisible = await page.locator('#preview-content').isVisible();\r\n    if (previewVisible) {\r\n      // Navigate to Done Stories tab\r\n      await page.click('.tab-btn[data-tab=\"done-stories\"]');\r\n      \r\n      // Enter search text\r\n      const searchBox = page.locator('#search-box');\r\n      if (await searchBox.isVisible()) {\r\n        await searchBox.fill('TEST');\r\n        // Search should filter results (exact behavior depends on data)\r\n        await expect(searchBox).toHaveValue('TEST');\r\n      }\r\n    }\r\n  });\r\n\r\n  test('should enable export buttons after preview', async ({ page }) => {\r\n    test.setTimeout(300000);\r\n    await runDefaultPreview(page);\r\n    \r\n    const previewVisible = await page.locator('#preview-content').isVisible();\r\n    if (previewVisible) {\r\n      // Export buttons should be enabled\r\n      await expect(page.locator('#export-excel-btn')).toBeEnabled();\r\n      await expect(page.locator('#export-excel-btn')).toBeEnabled();\r\n    }\r\n  });\r\n\r\n  test('should update date display when dates change', async ({ page }) => {\r\n    const startDate = page.locator('#start-date');\r\n    const endDate = page.locator('#end-date');\r\n    \r\n    // Change start date\r\n    await startDate.fill('2025-05-01T00:00');\r\n    \r\n    // Date display should update\r\n    const dateDisplay = page.locator('#date-display');\r\n    // Wait a bit for the update\r\n    await page.waitForTimeout(100);\r\n    \r\n    // Verify date display is visible (content may vary)\r\n    await expect(dateDisplay).toBeVisible();\r\n  });\r\n\r\n  test('should show predictability mode options when predictability is enabled', async ({ page }) => {\r\n    const predictabilityCheckbox = page.locator('#include-predictability');\r\n    const modeGroup = page.locator('#predictability-mode-group');\r\n    \r\n    // Initially hidden\r\n    await expect(modeGroup).not.toBeVisible();\r\n    \r\n    // Check predictability\r\n    await predictabilityCheckbox.check();\r\n    \r\n    // Mode group should be visible\r\n    await expect(modeGroup).toBeVisible();\r\n    \r\n    // Should have radio options\r\n    await expect(page.locator('input[name=\"predictability-mode\"][value=\"approx\"]')).toBeChecked();\r\n    await expect(page.locator('input[name=\"predictability-mode\"][value=\"strict\"]')).toBeVisible();\r\n  });\r\n\r\n  test('preview button and exports should reflect loading state and data', async ({ page }) => {\r\n    test.setTimeout(300000);\r\n    // Ensure we start on the report page with default projects selected\r\n    await expect(page.locator('#preview-btn')).toBeEnabled();\r\n\r\n    // Kick off preview and assert preview button is disabled while loading is visible\r\n    await page.click('#preview-btn');\r\n    let loadingVisible = false;\r\n    try {\r\n      await page.waitForSelector('#loading', { state: 'visible', timeout: 60000 });\r\n      loadingVisible = true;\r\n    } catch (error) {\r\n      // Loading may resolve too quickly (cache or fast response). Proceed without failing.\r\n    }\r\n    if (loadingVisible) {\r\n      // If loading stays visible, preview should be disabled. If loading resolves quickly or the overlay is already hidden, skip this assertion.\r\n      await page.waitForTimeout(200);\r\n      const stillLoading = await page.locator('#loading').isVisible().catch(() => false);\r\n      if (stillLoading) {\r\n        await expect(page.locator('#preview-btn')).toBeDisabled();\r\n      }\r\n    }\r\n\r\n    // Wait for loading to complete\r\n    await page.waitForSelector('#loading', { state: 'hidden', timeout: 600000 });\r\n\r\n    const previewVisible = await page.locator('#preview-content').isVisible();\r\n    const errorVisible = await page.locator('#error').isVisible();\r\n\r\n    // Preview should be re-enabled regardless of outcome\r\n    await expect(page.locator('#preview-btn')).toBeEnabled();\r\n\r\n    if (previewVisible) {\r\n      // When preview has rows, export buttons should be enabled; otherwise disabled\r\n      const text = await page.locator('#preview-content').innerText();\r\n      const hasDoneStoriesText = (text || '').toLowerCase().includes('done stories');\r\n\r\n      if (hasDoneStoriesText) {\r\n        await expect(page.locator('#export-excel-btn')).toBeEnabled();\r\n        await expect(page.locator('#export-excel-btn')).toBeEnabled();\r\n      } else {\r\n        await expect(page.locator('#export-excel-btn')).toBeDisabled();\r\n        await expect(page.locator('#export-excel-btn')).toBeDisabled();\r\n      }\r\n    } else if (errorVisible) {\r\n      // On error, exports should remain disabled\r\n      await expect(page.locator('#export-excel-btn')).toBeDisabled();\r\n      await expect(page.locator('#export-excel-btn')).toBeDisabled();\r\n    }\r\n  });\r\n\r\n  test('partial previews and exports show clear status and hints when applicable', async ({ page }) => {\r\n    test.setTimeout(300000);\r\n    // Drive a preview that is likely to be heavier (wider window) to increase chances of partial results\r\n    await runDefaultPreview(page, {\r\n      projects: ['MPSA', 'MAS'],\r\n      start: '2025-01-01T00:00',\r\n      end: '2025-12-31T23:59',\r\n    });\r\n\r\n    const previewVisible = await page.locator('#preview-content').isVisible();\r\n    if (!previewVisible) {\r\n      // If preview did not load, we cannot assert partial behaviour\r\n      test.skip();\r\n    }\r\n\r\n    const statusText = await page.locator('#preview-status').innerText();\r\n    const exportHintText = await page.locator('#export-hint').innerText();\r\n\r\n      if ((statusText || '').toLowerCase().includes('partial')) {\r\n        // When partial, banner and hint should both mention partial state\r\n        expect(statusText.toLowerCase()).toContain('partial');\r\n        expect(exportHintText.toLowerCase()).toContain('partial');\r\n        await expect(page.locator('#export-excel-btn')).toBeEnabled();\r\n        await expect(page.locator('#export-excel-btn')).toBeEnabled();\r\n      }\r\n  });\r\n\r\n  test('invalid date ranges are rejected client-side with clear error', async ({ page }) => {\r\n    // Configure an obviously invalid date range (start after end)\r\n    await page.fill('#start-date', '2025-07-01T00:00');\r\n    await page.fill('#end-date', '2025-06-30T23:59');\r\n\r\n    // Click preview and expect immediate client-side validation error without waiting on network\r\n    await page.click('#preview-btn');\r\n\r\n    await page.waitForSelector('#error', { state: 'visible', timeout: 10000 });\r\n    const errorText = await page.locator('#error').innerText();\r\n    expect(errorText.toLowerCase()).toContain('start date must be before end date');\r\n\r\n    await page.click('#error .error-close');\r\n    await expect(page.locator('#error')).toBeHidden();\r\n    await expect(page.locator('#preview-btn')).toBeFocused();\r\n  });\r\n\r\n  test('Require Resolved by Sprint End empty state explains the filter when applicable', async ({ page }) => {\r\n    // Enable the filter and request a wider range to increase chances of filtered-out stories\r\n    await page.check('#require-resolved-by-sprint-end');\r\n\r\n    await runDefaultPreview(page, {\r\n      projects: ['MPSA', 'MAS'],\r\n      start: '2025-07-01T00:00',\r\n      end: '2025-09-30T23:59',\r\n    });\r\n\r\n    const previewVisible = await page.locator('#preview-content').isVisible();\r\n    if (!previewVisible) {\r\n      test.skip();\r\n    }\r\n\r\n    // Navigate to Done Stories tab\r\n    await page.click('.tab-btn[data-tab=\"done-stories\"]');\r\n\r\n    const emptyStateText = await page.locator('#done-stories-content').innerText();\r\n    if ((emptyStateText || '').toLowerCase().includes('no done stories found')) {\r\n      // When no rows are present and the filter is on, the empty state should mention the filter explicitly\r\n      expect(emptyStateText.toLowerCase()).toContain('require resolved by sprint end');\r\n    }\r\n  });\r\n\r\n  test('metrics tab renders when story points, rework, and epic TTM are enabled', async ({ page }) => {\r\n    // Note: Story Points, Epic TTM, and Bugs/Rework are now mandatory (always enabled)\r\n    // No need to check these options - they're always included in reports\r\n\r\n    // Run a default preview with Q2 window\r\n    await runDefaultPreview(page);\r\n\r\n    const previewVisible = await page.locator('#preview-content').isVisible();\r\n    if (!previewVisible) {\r\n      test.skip();\r\n    }\r\n\r\n    // Metrics content now lives inside the Project & Epic Level tab\r\n    await page.click('.tab-btn[data-tab=\"project-epic-level\"]');\r\n    const metricsText = (await page.locator('#project-epic-level-content').innerText())?.toLowerCase() || '';\r\n\r\n    expect(metricsText).toContain('throughput');\r\n    expect(metricsText).toContain('epic time-to-market');\r\n  });\r\n});\r\n"],"mappings":"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","ignoreList":[]}