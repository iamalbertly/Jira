/**
 * Linkification and Empty-state UI Validation: issue key links on Report and Current Sprint,
 * shared empty-state pattern. Uses captureBrowserTelemetry and realtime UI assertions;
 * fails on UI mismatch or console/request errors.
 */

import { test, expect } from '@playwright/test';
import { runDefaultPreview, waitForPreview, captureBrowserTelemetry } from './JiraReporting-Tests-Shared-PreviewExport-Helpers.js';
test.describe('Jira Reporting App - Linkification and Empty-state UI Validation', () => {
  test('report Done Stories: issue keys are links when rows exist', async ({
    page
  }) => {
    test.setTimeout(180000);
    const telemetry = captureBrowserTelemetry(page);
    await runDefaultPreview(page);
    const previewVisible = await page.locator('#preview-content').isVisible().catch(() => false);
    if (!previewVisible) {
      test.skip(true, 'Preview not visible; may require Jira credentials');
      return;
    }
    await page.click('.tab-btn[data-tab="done-stories"]');
    await expect(page.locator('#tab-done-stories')).toHaveClass(/active/);
    const hasRows = (await page.locator('#done-stories-content .data-table tbody tr').count()) > 0;
    if (hasRows) {
      const linkCount = await page.locator('#done-stories-content a[href*="/browse/"]').count();
      const firstCell = await page.locator('#done-stories-content .data-table tbody tr').first().locator('td').first().textContent().catch(() => '');
      expect(linkCount > 0 || firstCell && firstCell.trim().length > 0).toBeTruthy();
    }
    expect(telemetry.consoleErrors).toEqual([]);
    expect(telemetry.pageErrors).toEqual([]);
  });
  test('report empty state: Done Stories shows empty-state pattern when no rows', async ({
    page
  }) => {
    test.setTimeout(180000);
    const telemetry = captureBrowserTelemetry(page);
    await page.goto('/report');
    await page.check('#project-mpsa');
    await page.uncheck('#project-mas');
    await page.fill('#start-date', '2025-07-01T00:00');
    await page.fill('#end-date', '2025-09-30T23:59');
    await page.click('#preview-btn');
    await Promise.race([page.waitForSelector('#preview-content', {
      state: 'visible',
      timeout: 120000
    }).catch(() => null), page.waitForSelector('#error', {
      state: 'visible',
      timeout: 120000
    }).catch(() => null)]);
    await waitForPreview(page);
    await page.click('.tab-btn[data-tab="done-stories"]').catch(() => null);
    const emptyState = page.locator('#done-stories-content .empty-state');
    const noRows = (await page.locator('#done-stories-content .data-table tbody tr').count()) === 0;
    if (noRows) {
      await expect(emptyState).toBeVisible();
      await expect(emptyState).toContainText(/no stories|no done|no match/i);
    }
    expect(telemetry.consoleErrors).toEqual([]);
    expect(telemetry.pageErrors).toEqual([]);
  });
  test('current-sprint page loads with no console errors', async ({
    page
  }) => {
    const telemetry = captureBrowserTelemetry(page);
    await page.goto('/current-sprint');
    if (page.url().includes('login') || page.url().endsWith('/')) {
      test.skip(true, 'Redirected to login; auth may be required');
      return;
    }
    await expect(page.locator('h1')).toContainText('Current Sprint');
    await expect(page.locator('#board-select')).toBeVisible();
    await expect(page.locator('nav.app-nav a[href="/report"]')).toContainText('Report');
    expect(telemetry.consoleErrors).toEqual([]);
    expect(telemetry.pageErrors).toEqual([]);
    expect(telemetry.failedRequests).toEqual([]);
  });
  test('current-sprint with board: stories and scope tables show issue key cells as link or text', async ({
    page
  }) => {
    test.setTimeout(60000);
    const telemetry = captureBrowserTelemetry(page);
    await page.goto('/current-sprint');
    if (page.url().includes('login') || page.url().endsWith('/')) {
      test.skip(true, 'Redirected to login; auth may be required');
      return;
    }
    await page.waitForSelector('#board-select option[value]:not([value=""])', {
      timeout: 15000
    }).catch(() => null);
    const firstOpt = await page.locator('#board-select option[value]:not([value=""])').first().getAttribute('value');
    if (!firstOpt) {
      test.skip(true, 'No boards loaded');
      return;
    }
    await page.selectOption('#board-select', firstOpt);
    await page.waitForSelector('#current-sprint-content', {
      state: 'visible',
      timeout: 20000
    }).catch(() => null);
    await page.waitForTimeout(2000);
    const storiesCard = page.locator('#stories-card');
    const scopeCard = page.locator('#scope-changes-card');
    const hasStories = (await storiesCard.locator('.data-table tbody tr').count()) > 0;
    const hasScope = (await scopeCard.locator('.data-table tbody tr').count()) > 0;
    if (hasStories) {
      const storyKeyCell = storiesCard.locator('.data-table tbody tr').first().locator('td').first();
      const html = await storyKeyCell.innerHTML();
      expect(html.includes('/browse/') || html.trim().length > 0).toBeTruthy();
    }
    if (hasScope) {
      const scopeKeyCell = scopeCard.locator('.data-table tbody tr').first().locator('td').first();
      const html = await scopeKeyCell.innerHTML();
      expect(html.includes('/browse/') || html.trim().length > 0).toBeTruthy();
    }
    expect(telemetry.consoleErrors).toEqual([]);
    expect(telemetry.pageErrors).toEqual([]);
  });
  test('current-sprint no sprint: shows empty-state message', async ({
    page
  }) => {
    const telemetry = captureBrowserTelemetry(page);
    await page.goto('/current-sprint');
    if (page.url().includes('login') || page.url().endsWith('/')) {
      test.skip(true, 'Redirected to login; auth may be required');
      return;
    }
    const hasBoardOpts = (await page.locator('#board-select option[value]:not([value=""])').count()) > 0;
    if (!hasBoardOpts) {
      const content = await page.locator('#current-sprint-content').textContent();
      expect(content).toMatch(/no board|loading|select/i);
    } else {
      await page.selectOption('#board-select', await page.locator('#board-select option[value]:not([value=""])').first().getAttribute('value'));
      await page.waitForTimeout(3000);
      const noSprint = await page.locator('.empty-state').isVisible().catch(() => false);
      if (noSprint) {
        await expect(page.locator('.empty-state')).toContainText(/no sprint|no active|no recent/i);
      }
    }
    expect(telemetry.consoleErrors).toEqual([]);
    expect(telemetry.pageErrors).toEqual([]);
  });
  test('leadership page loads with nav and Preview; no console errors', async ({
    page
  }) => {
    const telemetry = captureBrowserTelemetry(page);
    await page.goto('/sprint-leadership');
    if (page.url().includes('login') || page.url().endsWith('/')) {
      test.skip(true, 'Redirected to login; auth may be required');
      return;
    }
    await expect(page.locator('h1')).toContainText('Sprint Leadership');
    await expect(page.locator('#leadership-preview')).toBeVisible();
    await expect(page.locator('nav.app-nav a[href="/report"]')).toContainText('Report');
    await expect(page.locator('nav.app-nav a[href="/current-sprint"]')).toContainText('Current Sprint');
    expect(telemetry.consoleErrors).toEqual([]);
    expect(telemetry.pageErrors).toEqual([]);
    expect(telemetry.failedRequests).toEqual([]);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ0ZXN0IiwiZXhwZWN0IiwicnVuRGVmYXVsdFByZXZpZXciLCJ3YWl0Rm9yUHJldmlldyIsImNhcHR1cmVCcm93c2VyVGVsZW1ldHJ5IiwiZGVzY3JpYmUiLCJwYWdlIiwic2V0VGltZW91dCIsInRlbGVtZXRyeSIsInByZXZpZXdWaXNpYmxlIiwibG9jYXRvciIsImlzVmlzaWJsZSIsImNhdGNoIiwic2tpcCIsImNsaWNrIiwidG9IYXZlQ2xhc3MiLCJoYXNSb3dzIiwiY291bnQiLCJsaW5rQ291bnQiLCJmaXJzdENlbGwiLCJmaXJzdCIsInRleHRDb250ZW50IiwidHJpbSIsImxlbmd0aCIsInRvQmVUcnV0aHkiLCJjb25zb2xlRXJyb3JzIiwidG9FcXVhbCIsInBhZ2VFcnJvcnMiLCJnb3RvIiwiY2hlY2siLCJ1bmNoZWNrIiwiZmlsbCIsIlByb21pc2UiLCJyYWNlIiwid2FpdEZvclNlbGVjdG9yIiwic3RhdGUiLCJ0aW1lb3V0IiwiZW1wdHlTdGF0ZSIsIm5vUm93cyIsInRvQmVWaXNpYmxlIiwidG9Db250YWluVGV4dCIsInVybCIsImluY2x1ZGVzIiwiZW5kc1dpdGgiLCJmYWlsZWRSZXF1ZXN0cyIsImZpcnN0T3B0IiwiZ2V0QXR0cmlidXRlIiwic2VsZWN0T3B0aW9uIiwid2FpdEZvclRpbWVvdXQiLCJzdG9yaWVzQ2FyZCIsInNjb3BlQ2FyZCIsImhhc1N0b3JpZXMiLCJoYXNTY29wZSIsInN0b3J5S2V5Q2VsbCIsImh0bWwiLCJpbm5lckhUTUwiLCJzY29wZUtleUNlbGwiLCJoYXNCb2FyZE9wdHMiLCJjb250ZW50IiwidG9NYXRjaCIsIm5vU3ByaW50Il0sInNvdXJjZXMiOlsiSmlyYS1SZXBvcnRpbmctQXBwLUxpbmtpZmljYXRpb24tRW1wdHlTdGF0ZS1VSS1WYWxpZGF0aW9uLVRlc3RzLnNwZWMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIExpbmtpZmljYXRpb24gYW5kIEVtcHR5LXN0YXRlIFVJIFZhbGlkYXRpb246IGlzc3VlIGtleSBsaW5rcyBvbiBSZXBvcnQgYW5kIEN1cnJlbnQgU3ByaW50LFxyXG4gKiBzaGFyZWQgZW1wdHktc3RhdGUgcGF0dGVybi4gVXNlcyBjYXB0dXJlQnJvd3NlclRlbGVtZXRyeSBhbmQgcmVhbHRpbWUgVUkgYXNzZXJ0aW9ucztcclxuICogZmFpbHMgb24gVUkgbWlzbWF0Y2ggb3IgY29uc29sZS9yZXF1ZXN0IGVycm9ycy5cclxuICovXHJcblxyXG5pbXBvcnQgeyB0ZXN0LCBleHBlY3QgfSBmcm9tICdAcGxheXdyaWdodC90ZXN0JztcclxuaW1wb3J0IHsgcnVuRGVmYXVsdFByZXZpZXcsIHdhaXRGb3JQcmV2aWV3LCBjYXB0dXJlQnJvd3NlclRlbGVtZXRyeSB9IGZyb20gJy4vSmlyYVJlcG9ydGluZy1UZXN0cy1TaGFyZWQtUHJldmlld0V4cG9ydC1IZWxwZXJzLmpzJztcclxuXHJcbnRlc3QuZGVzY3JpYmUoJ0ppcmEgUmVwb3J0aW5nIEFwcCAtIExpbmtpZmljYXRpb24gYW5kIEVtcHR5LXN0YXRlIFVJIFZhbGlkYXRpb24nLCAoKSA9PiB7XHJcbiAgdGVzdCgncmVwb3J0IERvbmUgU3RvcmllczogaXNzdWUga2V5cyBhcmUgbGlua3Mgd2hlbiByb3dzIGV4aXN0JywgYXN5bmMgKHsgcGFnZSB9KSA9PiB7XHJcbiAgICB0ZXN0LnNldFRpbWVvdXQoMTgwMDAwKTtcclxuICAgIGNvbnN0IHRlbGVtZXRyeSA9IGNhcHR1cmVCcm93c2VyVGVsZW1ldHJ5KHBhZ2UpO1xyXG4gICAgYXdhaXQgcnVuRGVmYXVsdFByZXZpZXcocGFnZSk7XHJcblxyXG4gICAgY29uc3QgcHJldmlld1Zpc2libGUgPSBhd2FpdCBwYWdlLmxvY2F0b3IoJyNwcmV2aWV3LWNvbnRlbnQnKS5pc1Zpc2libGUoKS5jYXRjaCgoKSA9PiBmYWxzZSk7XHJcbiAgICBpZiAoIXByZXZpZXdWaXNpYmxlKSB7XHJcbiAgICAgIHRlc3Quc2tpcCh0cnVlLCAnUHJldmlldyBub3QgdmlzaWJsZTsgbWF5IHJlcXVpcmUgSmlyYSBjcmVkZW50aWFscycpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgYXdhaXQgcGFnZS5jbGljaygnLnRhYi1idG5bZGF0YS10YWI9XCJkb25lLXN0b3JpZXNcIl0nKTtcclxuICAgIGF3YWl0IGV4cGVjdChwYWdlLmxvY2F0b3IoJyN0YWItZG9uZS1zdG9yaWVzJykpLnRvSGF2ZUNsYXNzKC9hY3RpdmUvKTtcclxuXHJcbiAgICBjb25zdCBoYXNSb3dzID0gYXdhaXQgcGFnZS5sb2NhdG9yKCcjZG9uZS1zdG9yaWVzLWNvbnRlbnQgLmRhdGEtdGFibGUgdGJvZHkgdHInKS5jb3VudCgpID4gMDtcclxuICAgIGlmIChoYXNSb3dzKSB7XHJcbiAgICAgIGNvbnN0IGxpbmtDb3VudCA9IGF3YWl0IHBhZ2UubG9jYXRvcignI2RvbmUtc3Rvcmllcy1jb250ZW50IGFbaHJlZio9XCIvYnJvd3NlL1wiXScpLmNvdW50KCk7XHJcbiAgICAgIGNvbnN0IGZpcnN0Q2VsbCA9IGF3YWl0IHBhZ2UubG9jYXRvcignI2RvbmUtc3Rvcmllcy1jb250ZW50IC5kYXRhLXRhYmxlIHRib2R5IHRyJykuZmlyc3QoKS5sb2NhdG9yKCd0ZCcpLmZpcnN0KCkudGV4dENvbnRlbnQoKS5jYXRjaCgoKSA9PiAnJyk7XHJcbiAgICAgIGV4cGVjdChsaW5rQ291bnQgPiAwIHx8IChmaXJzdENlbGwgJiYgZmlyc3RDZWxsLnRyaW0oKS5sZW5ndGggPiAwKSkudG9CZVRydXRoeSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cGVjdCh0ZWxlbWV0cnkuY29uc29sZUVycm9ycykudG9FcXVhbChbXSk7XHJcbiAgICBleHBlY3QodGVsZW1ldHJ5LnBhZ2VFcnJvcnMpLnRvRXF1YWwoW10pO1xyXG4gIH0pO1xyXG5cclxuICB0ZXN0KCdyZXBvcnQgZW1wdHkgc3RhdGU6IERvbmUgU3RvcmllcyBzaG93cyBlbXB0eS1zdGF0ZSBwYXR0ZXJuIHdoZW4gbm8gcm93cycsIGFzeW5jICh7IHBhZ2UgfSkgPT4ge1xyXG4gICAgdGVzdC5zZXRUaW1lb3V0KDE4MDAwMCk7XHJcbiAgICBjb25zdCB0ZWxlbWV0cnkgPSBjYXB0dXJlQnJvd3NlclRlbGVtZXRyeShwYWdlKTtcclxuICAgIGF3YWl0IHBhZ2UuZ290bygnL3JlcG9ydCcpO1xyXG4gICAgYXdhaXQgcGFnZS5jaGVjaygnI3Byb2plY3QtbXBzYScpO1xyXG4gICAgYXdhaXQgcGFnZS51bmNoZWNrKCcjcHJvamVjdC1tYXMnKTtcclxuICAgIGF3YWl0IHBhZ2UuZmlsbCgnI3N0YXJ0LWRhdGUnLCAnMjAyNS0wNy0wMVQwMDowMCcpO1xyXG4gICAgYXdhaXQgcGFnZS5maWxsKCcjZW5kLWRhdGUnLCAnMjAyNS0wOS0zMFQyMzo1OScpO1xyXG4gICAgYXdhaXQgcGFnZS5jbGljaygnI3ByZXZpZXctYnRuJyk7XHJcbiAgICBhd2FpdCBQcm9taXNlLnJhY2UoW1xyXG4gICAgICBwYWdlLndhaXRGb3JTZWxlY3RvcignI3ByZXZpZXctY29udGVudCcsIHsgc3RhdGU6ICd2aXNpYmxlJywgdGltZW91dDogMTIwMDAwIH0pLmNhdGNoKCgpID0+IG51bGwpLFxyXG4gICAgICBwYWdlLndhaXRGb3JTZWxlY3RvcignI2Vycm9yJywgeyBzdGF0ZTogJ3Zpc2libGUnLCB0aW1lb3V0OiAxMjAwMDAgfSkuY2F0Y2goKCkgPT4gbnVsbCksXHJcbiAgICBdKTtcclxuICAgIGF3YWl0IHdhaXRGb3JQcmV2aWV3KHBhZ2UpO1xyXG5cclxuICAgIGF3YWl0IHBhZ2UuY2xpY2soJy50YWItYnRuW2RhdGEtdGFiPVwiZG9uZS1zdG9yaWVzXCJdJykuY2F0Y2goKCkgPT4gbnVsbCk7XHJcbiAgICBjb25zdCBlbXB0eVN0YXRlID0gcGFnZS5sb2NhdG9yKCcjZG9uZS1zdG9yaWVzLWNvbnRlbnQgLmVtcHR5LXN0YXRlJyk7XHJcbiAgICBjb25zdCBub1Jvd3MgPSBhd2FpdCBwYWdlLmxvY2F0b3IoJyNkb25lLXN0b3JpZXMtY29udGVudCAuZGF0YS10YWJsZSB0Ym9keSB0cicpLmNvdW50KCkgPT09IDA7XHJcbiAgICBpZiAobm9Sb3dzKSB7XHJcbiAgICAgIGF3YWl0IGV4cGVjdChlbXB0eVN0YXRlKS50b0JlVmlzaWJsZSgpO1xyXG4gICAgICBhd2FpdCBleHBlY3QoZW1wdHlTdGF0ZSkudG9Db250YWluVGV4dCgvbm8gc3Rvcmllc3xubyBkb25lfG5vIG1hdGNoL2kpO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cGVjdCh0ZWxlbWV0cnkuY29uc29sZUVycm9ycykudG9FcXVhbChbXSk7XHJcbiAgICBleHBlY3QodGVsZW1ldHJ5LnBhZ2VFcnJvcnMpLnRvRXF1YWwoW10pO1xyXG4gIH0pO1xyXG5cclxuICB0ZXN0KCdjdXJyZW50LXNwcmludCBwYWdlIGxvYWRzIHdpdGggbm8gY29uc29sZSBlcnJvcnMnLCBhc3luYyAoeyBwYWdlIH0pID0+IHtcclxuICAgIGNvbnN0IHRlbGVtZXRyeSA9IGNhcHR1cmVCcm93c2VyVGVsZW1ldHJ5KHBhZ2UpO1xyXG4gICAgYXdhaXQgcGFnZS5nb3RvKCcvY3VycmVudC1zcHJpbnQnKTtcclxuXHJcbiAgICBpZiAocGFnZS51cmwoKS5pbmNsdWRlcygnbG9naW4nKSB8fCBwYWdlLnVybCgpLmVuZHNXaXRoKCcvJykpIHtcclxuICAgICAgdGVzdC5za2lwKHRydWUsICdSZWRpcmVjdGVkIHRvIGxvZ2luOyBhdXRoIG1heSBiZSByZXF1aXJlZCcpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgYXdhaXQgZXhwZWN0KHBhZ2UubG9jYXRvcignaDEnKSkudG9Db250YWluVGV4dCgnQ3VycmVudCBTcHJpbnQnKTtcclxuICAgIGF3YWl0IGV4cGVjdChwYWdlLmxvY2F0b3IoJyNib2FyZC1zZWxlY3QnKSkudG9CZVZpc2libGUoKTtcclxuICAgIGF3YWl0IGV4cGVjdChwYWdlLmxvY2F0b3IoJ25hdi5hcHAtbmF2IGFbaHJlZj1cIi9yZXBvcnRcIl0nKSkudG9Db250YWluVGV4dCgnUmVwb3J0Jyk7XHJcblxyXG4gICAgZXhwZWN0KHRlbGVtZXRyeS5jb25zb2xlRXJyb3JzKS50b0VxdWFsKFtdKTtcclxuICAgIGV4cGVjdCh0ZWxlbWV0cnkucGFnZUVycm9ycykudG9FcXVhbChbXSk7XHJcbiAgICBleHBlY3QodGVsZW1ldHJ5LmZhaWxlZFJlcXVlc3RzKS50b0VxdWFsKFtdKTtcclxuICB9KTtcclxuXHJcbiAgdGVzdCgnY3VycmVudC1zcHJpbnQgd2l0aCBib2FyZDogc3RvcmllcyBhbmQgc2NvcGUgdGFibGVzIHNob3cgaXNzdWUga2V5IGNlbGxzIGFzIGxpbmsgb3IgdGV4dCcsIGFzeW5jICh7IHBhZ2UgfSkgPT4ge1xyXG4gICAgdGVzdC5zZXRUaW1lb3V0KDYwMDAwKTtcclxuICAgIGNvbnN0IHRlbGVtZXRyeSA9IGNhcHR1cmVCcm93c2VyVGVsZW1ldHJ5KHBhZ2UpO1xyXG4gICAgYXdhaXQgcGFnZS5nb3RvKCcvY3VycmVudC1zcHJpbnQnKTtcclxuXHJcbiAgICBpZiAocGFnZS51cmwoKS5pbmNsdWRlcygnbG9naW4nKSB8fCBwYWdlLnVybCgpLmVuZHNXaXRoKCcvJykpIHtcclxuICAgICAgdGVzdC5za2lwKHRydWUsICdSZWRpcmVjdGVkIHRvIGxvZ2luOyBhdXRoIG1heSBiZSByZXF1aXJlZCcpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgYXdhaXQgcGFnZS53YWl0Rm9yU2VsZWN0b3IoJyNib2FyZC1zZWxlY3Qgb3B0aW9uW3ZhbHVlXTpub3QoW3ZhbHVlPVwiXCJdKScsIHsgdGltZW91dDogMTUwMDAgfSkuY2F0Y2goKCkgPT4gbnVsbCk7XHJcbiAgICBjb25zdCBmaXJzdE9wdCA9IGF3YWl0IHBhZ2UubG9jYXRvcignI2JvYXJkLXNlbGVjdCBvcHRpb25bdmFsdWVdOm5vdChbdmFsdWU9XCJcIl0pJykuZmlyc3QoKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJyk7XHJcbiAgICBpZiAoIWZpcnN0T3B0KSB7XHJcbiAgICAgIHRlc3Quc2tpcCh0cnVlLCAnTm8gYm9hcmRzIGxvYWRlZCcpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgYXdhaXQgcGFnZS5zZWxlY3RPcHRpb24oJyNib2FyZC1zZWxlY3QnLCBmaXJzdE9wdCk7XHJcbiAgICBhd2FpdCBwYWdlLndhaXRGb3JTZWxlY3RvcignI2N1cnJlbnQtc3ByaW50LWNvbnRlbnQnLCB7IHN0YXRlOiAndmlzaWJsZScsIHRpbWVvdXQ6IDIwMDAwIH0pLmNhdGNoKCgpID0+IG51bGwpO1xyXG4gICAgYXdhaXQgcGFnZS53YWl0Rm9yVGltZW91dCgyMDAwKTtcclxuXHJcbiAgICBjb25zdCBzdG9yaWVzQ2FyZCA9IHBhZ2UubG9jYXRvcignI3N0b3JpZXMtY2FyZCcpO1xyXG4gICAgY29uc3Qgc2NvcGVDYXJkID0gcGFnZS5sb2NhdG9yKCcjc2NvcGUtY2hhbmdlcy1jYXJkJyk7XHJcbiAgICBjb25zdCBoYXNTdG9yaWVzID0gYXdhaXQgc3Rvcmllc0NhcmQubG9jYXRvcignLmRhdGEtdGFibGUgdGJvZHkgdHInKS5jb3VudCgpID4gMDtcclxuICAgIGNvbnN0IGhhc1Njb3BlID0gYXdhaXQgc2NvcGVDYXJkLmxvY2F0b3IoJy5kYXRhLXRhYmxlIHRib2R5IHRyJykuY291bnQoKSA+IDA7XHJcblxyXG4gICAgaWYgKGhhc1N0b3JpZXMpIHtcclxuICAgICAgY29uc3Qgc3RvcnlLZXlDZWxsID0gc3Rvcmllc0NhcmQubG9jYXRvcignLmRhdGEtdGFibGUgdGJvZHkgdHInKS5maXJzdCgpLmxvY2F0b3IoJ3RkJykuZmlyc3QoKTtcclxuICAgICAgY29uc3QgaHRtbCA9IGF3YWl0IHN0b3J5S2V5Q2VsbC5pbm5lckhUTUwoKTtcclxuICAgICAgZXhwZWN0KGh0bWwuaW5jbHVkZXMoJy9icm93c2UvJykgfHwgaHRtbC50cmltKCkubGVuZ3RoID4gMCkudG9CZVRydXRoeSgpO1xyXG4gICAgfVxyXG4gICAgaWYgKGhhc1Njb3BlKSB7XHJcbiAgICAgIGNvbnN0IHNjb3BlS2V5Q2VsbCA9IHNjb3BlQ2FyZC5sb2NhdG9yKCcuZGF0YS10YWJsZSB0Ym9keSB0cicpLmZpcnN0KCkubG9jYXRvcigndGQnKS5maXJzdCgpO1xyXG4gICAgICBjb25zdCBodG1sID0gYXdhaXQgc2NvcGVLZXlDZWxsLmlubmVySFRNTCgpO1xyXG4gICAgICBleHBlY3QoaHRtbC5pbmNsdWRlcygnL2Jyb3dzZS8nKSB8fCBodG1sLnRyaW0oKS5sZW5ndGggPiAwKS50b0JlVHJ1dGh5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwZWN0KHRlbGVtZXRyeS5jb25zb2xlRXJyb3JzKS50b0VxdWFsKFtdKTtcclxuICAgIGV4cGVjdCh0ZWxlbWV0cnkucGFnZUVycm9ycykudG9FcXVhbChbXSk7XHJcbiAgfSk7XHJcblxyXG4gIHRlc3QoJ2N1cnJlbnQtc3ByaW50IG5vIHNwcmludDogc2hvd3MgZW1wdHktc3RhdGUgbWVzc2FnZScsIGFzeW5jICh7IHBhZ2UgfSkgPT4ge1xyXG4gICAgY29uc3QgdGVsZW1ldHJ5ID0gY2FwdHVyZUJyb3dzZXJUZWxlbWV0cnkocGFnZSk7XHJcbiAgICBhd2FpdCBwYWdlLmdvdG8oJy9jdXJyZW50LXNwcmludCcpO1xyXG5cclxuICAgIGlmIChwYWdlLnVybCgpLmluY2x1ZGVzKCdsb2dpbicpIHx8IHBhZ2UudXJsKCkuZW5kc1dpdGgoJy8nKSkge1xyXG4gICAgICB0ZXN0LnNraXAodHJ1ZSwgJ1JlZGlyZWN0ZWQgdG8gbG9naW47IGF1dGggbWF5IGJlIHJlcXVpcmVkJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBoYXNCb2FyZE9wdHMgPSBhd2FpdCBwYWdlLmxvY2F0b3IoJyNib2FyZC1zZWxlY3Qgb3B0aW9uW3ZhbHVlXTpub3QoW3ZhbHVlPVwiXCJdKScpLmNvdW50KCkgPiAwO1xyXG4gICAgaWYgKCFoYXNCb2FyZE9wdHMpIHtcclxuICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IHBhZ2UubG9jYXRvcignI2N1cnJlbnQtc3ByaW50LWNvbnRlbnQnKS50ZXh0Q29udGVudCgpO1xyXG4gICAgICBleHBlY3QoY29udGVudCkudG9NYXRjaCgvbm8gYm9hcmR8bG9hZGluZ3xzZWxlY3QvaSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhd2FpdCBwYWdlLnNlbGVjdE9wdGlvbignI2JvYXJkLXNlbGVjdCcsIGF3YWl0IHBhZ2UubG9jYXRvcignI2JvYXJkLXNlbGVjdCBvcHRpb25bdmFsdWVdOm5vdChbdmFsdWU9XCJcIl0pJykuZmlyc3QoKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpO1xyXG4gICAgICBhd2FpdCBwYWdlLndhaXRGb3JUaW1lb3V0KDMwMDApO1xyXG4gICAgICBjb25zdCBub1NwcmludCA9IGF3YWl0IHBhZ2UubG9jYXRvcignLmVtcHR5LXN0YXRlJykuaXNWaXNpYmxlKCkuY2F0Y2goKCkgPT4gZmFsc2UpO1xyXG4gICAgICBpZiAobm9TcHJpbnQpIHtcclxuICAgICAgICBhd2FpdCBleHBlY3QocGFnZS5sb2NhdG9yKCcuZW1wdHktc3RhdGUnKSkudG9Db250YWluVGV4dCgvbm8gc3ByaW50fG5vIGFjdGl2ZXxubyByZWNlbnQvaSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBleHBlY3QodGVsZW1ldHJ5LmNvbnNvbGVFcnJvcnMpLnRvRXF1YWwoW10pO1xyXG4gICAgZXhwZWN0KHRlbGVtZXRyeS5wYWdlRXJyb3JzKS50b0VxdWFsKFtdKTtcclxuICB9KTtcclxuXHJcbiAgdGVzdCgnbGVhZGVyc2hpcCBwYWdlIGxvYWRzIHdpdGggbmF2IGFuZCBQcmV2aWV3OyBubyBjb25zb2xlIGVycm9ycycsIGFzeW5jICh7IHBhZ2UgfSkgPT4ge1xyXG4gICAgY29uc3QgdGVsZW1ldHJ5ID0gY2FwdHVyZUJyb3dzZXJUZWxlbWV0cnkocGFnZSk7XHJcbiAgICBhd2FpdCBwYWdlLmdvdG8oJy9zcHJpbnQtbGVhZGVyc2hpcCcpO1xyXG5cclxuICAgIGlmIChwYWdlLnVybCgpLmluY2x1ZGVzKCdsb2dpbicpIHx8IHBhZ2UudXJsKCkuZW5kc1dpdGgoJy8nKSkge1xyXG4gICAgICB0ZXN0LnNraXAodHJ1ZSwgJ1JlZGlyZWN0ZWQgdG8gbG9naW47IGF1dGggbWF5IGJlIHJlcXVpcmVkJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBhd2FpdCBleHBlY3QocGFnZS5sb2NhdG9yKCdoMScpKS50b0NvbnRhaW5UZXh0KCdTcHJpbnQgTGVhZGVyc2hpcCcpO1xyXG4gICAgYXdhaXQgZXhwZWN0KHBhZ2UubG9jYXRvcignI2xlYWRlcnNoaXAtcHJldmlldycpKS50b0JlVmlzaWJsZSgpO1xyXG4gICAgYXdhaXQgZXhwZWN0KHBhZ2UubG9jYXRvcignbmF2LmFwcC1uYXYgYVtocmVmPVwiL3JlcG9ydFwiXScpKS50b0NvbnRhaW5UZXh0KCdSZXBvcnQnKTtcclxuICAgIGF3YWl0IGV4cGVjdChwYWdlLmxvY2F0b3IoJ25hdi5hcHAtbmF2IGFbaHJlZj1cIi9jdXJyZW50LXNwcmludFwiXScpKS50b0NvbnRhaW5UZXh0KCdDdXJyZW50IFNwcmludCcpO1xyXG5cclxuICAgIGV4cGVjdCh0ZWxlbWV0cnkuY29uc29sZUVycm9ycykudG9FcXVhbChbXSk7XHJcbiAgICBleHBlY3QodGVsZW1ldHJ5LnBhZ2VFcnJvcnMpLnRvRXF1YWwoW10pO1xyXG4gICAgZXhwZWN0KHRlbGVtZXRyeS5mYWlsZWRSZXF1ZXN0cykudG9FcXVhbChbXSk7XHJcbiAgfSk7XHJcbn0pO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBU0EsSUFBSSxFQUFFQyxNQUFNLFFBQVEsa0JBQWtCO0FBQy9DLFNBQVNDLGlCQUFpQixFQUFFQyxjQUFjLEVBQUVDLHVCQUF1QixRQUFRLHVEQUF1RDtBQUVsSUosSUFBSSxDQUFDSyxRQUFRLENBQUMsa0VBQWtFLEVBQUUsTUFBTTtFQUN0RkwsSUFBSSxDQUFDLDJEQUEyRCxFQUFFLE9BQU87SUFBRU07RUFBSyxDQUFDLEtBQUs7SUFDcEZOLElBQUksQ0FBQ08sVUFBVSxDQUFDLE1BQU0sQ0FBQztJ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