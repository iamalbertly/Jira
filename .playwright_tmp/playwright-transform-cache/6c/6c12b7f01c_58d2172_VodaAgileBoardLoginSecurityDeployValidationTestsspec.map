{"version":3,"names":["test","expect","testUser","process","env","TEST_LOGIN_USER","APP_LOGIN_USER","testPass","TEST_LOGIN_PASSWORD","APP_LOGIN_PASSWORD","captureConsoleErrors","page","errors","on","msg","type","push","text","describe","consoleErrors","goto","waitUntil","url","hasLoginForm","locator","isVisible","catch","toContainText","toBeVisible","honeypot","toHaveCount","toBeHidden","match","errs","filter","e","relevant","includes","toHaveLength","hasLogin","skip","fill","click","waitForURL","timeout","finalUrl","not","toMatch","stayOnLogin","toBeTruthy","request","response","get","status","toBe","json","error","code","Promise","race","waitForSelector","state","loading","hasContent","hasError","message","innerText","toLowerCase","toContain","i"],"sources":["VodaAgileBoard-Login-Security-Deploy-Validation-Tests.spec.js"],"sourcesContent":["import { test, expect } from '@playwright/test';\r\n\r\nconst testUser = process.env.TEST_LOGIN_USER || process.env.APP_LOGIN_USER || '';\r\nconst testPass = process.env.TEST_LOGIN_PASSWORD || process.env.APP_LOGIN_PASSWORD || '';\r\n\r\nfunction captureConsoleErrors(page) {\r\n  const errors = [];\r\n  page.on('console', (msg) => {\r\n    if (msg.type() === 'error') errors.push({ type: msg.type(), text: msg.text() });\r\n  });\r\n  return errors;\r\n}\r\n\r\ntest.describe('VodaAgileBoard – Login, Security & Deploy Validation', () => {\r\n  test('GET / shows login page or redirects to /report when auth disabled', async ({ page }) => {\r\n    const consoleErrors = captureConsoleErrors(page);\r\n    await page.goto('/', { waitUntil: 'load' });\r\n    const url = page.url();\r\n    const hasLoginForm = await page.locator('#username').isVisible().catch(() => false);\r\n    if (hasLoginForm) {\r\n      await expect(page.locator('h1')).toContainText('VodaAgileBoard');\r\n      await expect(page.locator('input[name=\"username\"]')).toBeVisible();\r\n      await expect(page.locator('input[name=\"password\"]')).toBeVisible();\r\n      await expect(page.locator('button[type=\"submit\"]')).toBeVisible();\r\n      const honeypot = page.locator('#website');\r\n      await expect(honeypot).toHaveCount(1);\r\n      await expect(honeypot).toBeHidden();\r\n    } else {\r\n      if (!url.match(/\\/report$/)) await page.goto('/report');\r\n      await expect(page.locator('h1')).toContainText('VodaAgileBoard');\r\n      await expect(page.locator('#preview-btn')).toBeVisible();\r\n    }\r\n    const errs = consoleErrors.filter((e) => e.type === 'error');\r\n    const relevant = errs.filter((e) => !(e.text && e.text.includes('404') && (e.text.includes('csv-columns') || e.text.includes('Failed to load resource'))));\r\n    expect(relevant).toHaveLength(0);\r\n  });\r\n\r\n  test('honeypot rejection when auth enabled', async ({ page }) => {\r\n    const consoleErrors = captureConsoleErrors(page);\r\n    await page.goto('/');\r\n    const hasLogin = await page.locator('#username').isVisible().catch(() => false);\r\n    if (!hasLogin) {\r\n      test.skip(true, 'Auth disabled – no login form');\r\n      return;\r\n    }\r\n    await page.fill('#username', testUser || 'u');\r\n    await page.fill('#password', testPass || 'p');\r\n    await page.fill('#website', 'bot-filled');\r\n    await page.click('button[type=\"submit\"]');\r\n    await page.waitForURL(/\\/(login)?(\\?|$)/, { timeout: 5000 }).catch(() => {});\r\n    const finalUrl = page.url();\r\n    expect(finalUrl).not.toMatch(/\\/report$/);\r\n    expect(consoleErrors.filter((e) => e.type === 'error')).toHaveLength(0);\r\n  });\r\n\r\n  test('invalid credentials when auth enabled', async ({ page }) => {\r\n    const consoleErrors = captureConsoleErrors(page);\r\n    await page.goto('/login');\r\n    const hasLogin = await page.locator('#username').isVisible().catch(() => false);\r\n    if (!hasLogin) {\r\n      test.skip(true, 'Auth disabled');\r\n      return;\r\n    }\r\n    await page.fill('#username', 'wronguser');\r\n    await page.fill('#password', 'wrongpass');\r\n    await page.click('button[type=\"submit\"]');\r\n    await page.waitForURL(/\\/(login)?(\\?|$)/, { timeout: 5000 }).catch(() => {});\r\n    const stayOnLogin = page.url().includes('/login') || (await page.locator('#username').isVisible());\r\n    expect(stayOnLogin).toBeTruthy();\r\n    expect(consoleErrors.filter((e) => e.type === 'error')).toHaveLength(0);\r\n  });\r\n\r\n  test('valid login redirects to /report when auth enabled', async ({ page }) => {\r\n    const consoleErrors = captureConsoleErrors(page);\r\n    await page.goto('/login');\r\n    const hasLogin = await page.locator('#username').isVisible().catch(() => false);\r\n    if (!hasLogin || !testUser || !testPass) {\r\n      test.skip(true, 'Auth disabled or no test credentials');\r\n      return;\r\n    }\r\n    await page.fill('#username', testUser);\r\n    await page.fill('#password', testPass);\r\n    await page.click('button[type=\"submit\"]');\r\n    await page.waitForURL(/\\/report/, { timeout: 10000 });\r\n    await expect(page.locator('h1')).toContainText('VodaAgileBoard');\r\n    await expect(page.locator('#preview-btn')).toBeVisible();\r\n    expect(consoleErrors.filter((e) => e.type === 'error')).toHaveLength(0);\r\n  });\r\n\r\n  test('protected /report redirects to login when auth enabled and not logged in', async ({ page }) => {\r\n    const consoleErrors = captureConsoleErrors(page);\r\n    await page.goto('/report');\r\n    const url = page.url();\r\n    const hasLogin = await page.locator('#username').isVisible().catch(() => false);\r\n    if (!hasLogin) {\r\n      expect(url).toMatch(/\\/report$/);\r\n      test.skip(true, 'Auth disabled – /report accessible');\r\n      return;\r\n    }\r\n    expect(url).toMatch(/\\/(login)?(\\?|$)/);\r\n    expect(consoleErrors.filter((e) => e.type === 'error')).toHaveLength(0);\r\n  });\r\n\r\n  test('protected API returns 401 when auth enabled and no session', async ({ request }) => {\r\n    const response = await request.get('/preview.json?projects=MPSA');\r\n    if (response.status() === 200) {\r\n      test.skip(true, 'Auth disabled - API open');\r\n      return;\r\n    }\r\n    if (response.status() === 500) {\r\n      test.skip(true, 'Auth disabled or missing Jira credentials - API returned server error');\r\n      return;\r\n    }\r\n    expect(response.status()).toBe(401);\r\n    const json = await response.json().catch(() => ({}));\r\n    expect(json.error || json.code).toBeTruthy();\r\n  });\r\n\r\n  test('post-login report flow when auth enabled', async ({ page }) => {\r\n    const consoleErrors = captureConsoleErrors(page);\r\n    await page.goto('/');\r\n    const hasLogin = await page.locator('#username').isVisible().catch(() => false);\r\n    if (!hasLogin || !testUser || !testPass) {\r\n      test.skip(true, 'Auth disabled or no test credentials');\r\n      return;\r\n    }\r\n    await page.fill('#username', testUser);\r\n    await page.fill('#password', testPass);\r\n    await page.click('button[type=\"submit\"]');\r\n    await page.waitForURL(/\\/report/, { timeout: 10000 });\r\n    await expect(page.locator('#preview-btn')).toBeVisible();\r\n    await expect(page.locator('#project-mpsa')).toBeVisible();\r\n    await page.click('#preview-btn');\r\n    await Promise.race([\r\n      page.waitForSelector('#loading', { state: 'visible', timeout: 5000 }).catch(() => null),\r\n      page.waitForSelector('#preview-content', { state: 'visible', timeout: 15000 }).catch(() => null),\r\n      page.waitForSelector('#error', { state: 'visible', timeout: 15000 }).catch(() => null),\r\n    ]);\r\n    const loading = await page.locator('#loading').isVisible().catch(() => false);\r\n    if (loading) await page.waitForSelector('#loading', { state: 'hidden', timeout: 120000 });\r\n    const hasContent = await page.locator('#preview-content').isVisible().catch(() => false);\r\n    const hasError = await page.locator('#error').isVisible().catch(() => false);\r\n    expect(hasContent || hasError).toBeTruthy();\r\n    expect(consoleErrors.filter((e) => e.type === 'error')).toHaveLength(0);\r\n  });\r\n\r\n  test('shows session timeout message when error=timeout', async ({ page }) => {\r\n    const consoleErrors = captureConsoleErrors(page);\r\n    await page.goto('/login?error=timeout&redirect=%2Freport');\r\n    const hasLogin = await page.locator('#username').isVisible().catch(() => false);\r\n    if (!hasLogin) {\r\n      test.skip(true, 'Auth disabled – /login redirects to /report');\r\n      return;\r\n    }\r\n    const message = await page.locator('#login-error').innerText();\r\n    expect(message.toLowerCase()).toContain('session expired');\r\n    expect(consoleErrors.filter((e) => e.type === 'error')).toHaveLength(0);\r\n  });\r\n\r\n  test('stays on login after repeated invalid attempts (rate limit path)', async ({ page }) => {\r\n    const consoleErrors = captureConsoleErrors(page);\r\n    await page.goto('/login');\r\n    const hasLogin = await page.locator('#username').isVisible().catch(() => false);\r\n    if (!hasLogin) {\r\n      test.skip(true, 'Auth disabled');\r\n      return;\r\n    }\r\n    for (let i = 0; i < 6; i++) {\r\n      await page.fill('#username', `wrong${i}`);\r\n      await page.fill('#password', `wrong${i}`);\r\n      await page.click('button[type=\"submit\"]');\r\n      await page.waitForURL(/\\/(login)?(\\?|$)/, { timeout: 5000 }).catch(() => {});\r\n    }\r\n    const url = page.url();\r\n    const stayOnLogin = url.includes('/login') || (await page.locator('#username').isVisible());\r\n    expect(stayOnLogin).toBeTruthy();\r\n    expect(consoleErrors.filter((e) => e.type === 'error')).toHaveLength(0);\r\n  });\r\n});\r\n"],"mappings":"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","ignoreList":[]}