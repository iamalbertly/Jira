/**
 * UX Trust Validation: report, current-sprint, leadership with console (logcat-style)
 * and realtime UI assertions at every stage. Fails on UI mismatch or browser errors.
 */

import { test, expect } from '@playwright/test';
import { runDefaultPreview, waitForPreview, captureBrowserTelemetry } from './JiraReporting-Tests-Shared-PreviewExport-Helpers.js';
test.describe('Jira Reporting App - UX Trust Validation (UI + Console)', () => {
  test('report page loads with expected controls and no console errors', async ({
    page
  }) => {
    const telemetry = captureBrowserTelemetry(page);
    await page.goto('/report');
    await expect(page.locator('h1')).toContainText('VodaAgileBoard');
    await expect(page.locator('#project-mpsa')).toBeVisible();
    await expect(page.locator('#preview-btn')).toBeVisible();
    await expect(page.locator('#export-excel-btn')).toBeVisible();
    await expect(page.locator('#export-dropdown-trigger')).toBeVisible();
    await expect(page.locator('#preview-content')).toBeHidden();
    await expect(page.locator('nav.app-nav')).toBeVisible();
    await expect(page.locator('nav.app-nav a[href="/current-sprint"]')).toContainText('Current Sprint');
    await expect(page.locator('nav.app-nav a[href="/sprint-leadership"]')).toContainText('Leadership');
    expect(telemetry.consoleErrors).toEqual([]);
    expect(telemetry.pageErrors).toEqual([]);
    expect(telemetry.failedRequests).toEqual([]);
  });
  test('report preview flow: Generate Report then UI shows content or error with no console errors', async ({
    page
  }) => {
    test.setTimeout(180000);
    const telemetry = captureBrowserTelemetry(page);
    await page.goto('/report');
    await expect(page.locator('#preview-btn')).toBeVisible();
    await page.click('#preview-btn');
    await Promise.race([page.waitForSelector('#preview-content', {
      state: 'visible',
      timeout: 120000
    }).catch(() => null), page.waitForSelector('#error', {
      state: 'visible',
      timeout: 120000
    }).catch(() => null)]);
    await waitForPreview(page);
    const previewVisible = await page.locator('#preview-content').isVisible().catch(() => false);
    const errorVisible = await page.locator('#error').isVisible().catch(() => false);
    expect(previewVisible || errorVisible).toBeTruthy();
    expect(telemetry.consoleErrors).toEqual([]);
    expect(telemetry.pageErrors).toEqual([]);
    expect(telemetry.failedRequests).toEqual([]);
  });
  test('report tabs and export: after preview, tabs and export controls are visible', async ({
    page
  }) => {
    test.setTimeout(180000);
    const telemetry = captureBrowserTelemetry(page);
    await runDefaultPreview(page);
    const previewVisible = await page.locator('#preview-content').isVisible().catch(() => false);
    if (!previewVisible) {
      test.skip(true, 'Preview not visible; may require Jira credentials');
      return;
    }
    await expect(page.locator('.tabs')).toBeVisible();
    await expect(page.locator('.tab-btn')).toHaveCount(4);
    await expect(page.locator('#tab-project-epic-level')).toBeVisible();
    await expect(page.locator('#export-excel-btn')).toBeVisible();
    await expect(page.locator('#export-dropdown-trigger')).toBeVisible();
    expect(telemetry.consoleErrors).toEqual([]);
    expect(telemetry.pageErrors).toEqual([]);
  });
  test('current-sprint page loads and shows board selector with no console errors', async ({
    page
  }) => {
    const telemetry = captureBrowserTelemetry(page);
    await page.goto('/current-sprint');
    if (page.url().includes('login') || page.url().endsWith('/')) {
      test.skip(true, 'Redirected to login; auth may be required');
      return;
    }
    await expect(page.locator('h1')).toContainText('Current Sprint');
    await expect(page.locator('#board-select')).toBeVisible();
    await expect(page.locator('nav.app-nav a[href="/report"]')).toContainText('Report');
    await expect(page.locator('nav.app-nav a[href="/sprint-leadership"]')).toContainText('Leadership');
    const options = await page.locator('#board-select option').allTextContents();
    expect(options.length).toBeGreaterThanOrEqual(1);
    expect(telemetry.consoleErrors).toEqual([]);
    expect(telemetry.pageErrors).toEqual([]);
    expect(telemetry.failedRequests).toEqual([]);
  });
  test('sprint-leadership page loads and shows date inputs and Preview with no console errors', async ({
    page
  }) => {
    const telemetry = captureBrowserTelemetry(page);
    await page.goto('/sprint-leadership');
    if (page.url().includes('login') || page.url().endsWith('/')) {
      test.skip(true, 'Redirected to login; auth may be required');
      return;
    }
    await expect(page.locator('h1')).toContainText('Sprint Leadership');
    await expect(page.locator('#leadership-start')).toBeVisible();
    await expect(page.locator('#leadership-end')).toBeVisible();
    await expect(page.locator('#leadership-preview')).toBeVisible();
    await expect(page.locator('#leadership-preview')).toContainText('Preview');
    await expect(page.locator('nav.app-nav a[href="/report"]')).toContainText('Report');
    await expect(page.locator('nav.app-nav a[href="/current-sprint"]')).toContainText('Current Sprint');
    expect(telemetry.consoleErrors).toEqual([]);
    expect(telemetry.pageErrors).toEqual([]);
    expect(telemetry.failedRequests).toEqual([]);
  });
  test('validation error: start >= end shows single error banner and no request', async ({
    page
  }) => {
    const telemetry = captureBrowserTelemetry(page);
    await page.goto('/report');
    await page.check('#project-mpsa');
    await page.fill('#start-date', '2025-09-30T23:59');
    await page.fill('#end-date', '2025-07-01T00:00');
    await page.click('#preview-btn');
    await expect(page.locator('#error')).toBeVisible();
    await expect(page.locator('#error')).toContainText(/start.*before.*end|date/i);
    expect(telemetry.consoleErrors).toEqual([]);
    expect(telemetry.pageErrors).toEqual([]);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ0ZXN0IiwiZXhwZWN0IiwicnVuRGVmYXVsdFByZXZpZXciLCJ3YWl0Rm9yUHJldmlldyIsImNhcHR1cmVCcm93c2VyVGVsZW1ldHJ5IiwiZGVzY3JpYmUiLCJwYWdlIiwidGVsZW1ldHJ5IiwiZ290byIsImxvY2F0b3IiLCJ0b0NvbnRhaW5UZXh0IiwidG9CZVZpc2libGUiLCJ0b0JlSGlkZGVuIiwiY29uc29sZUVycm9ycyIsInRvRXF1YWwiLCJwYWdlRXJyb3JzIiwiZmFpbGVkUmVxdWVzdHMiLCJzZXRUaW1lb3V0IiwiY2xpY2siLCJQcm9taXNlIiwicmFjZSIsIndhaXRGb3JTZWxlY3RvciIsInN0YXRlIiwidGltZW91dCIsImNhdGNoIiwicHJldmlld1Zpc2libGUiLCJpc1Zpc2libGUiLCJlcnJvclZpc2libGUiLCJ0b0JlVHJ1dGh5Iiwic2tpcCIsInRvSGF2ZUNvdW50IiwidXJsIiwiaW5jbHVkZXMiLCJlbmRzV2l0aCIsIm9wdGlvbnMiLCJhbGxUZXh0Q29udGVudHMiLCJsZW5ndGgiLCJ0b0JlR3JlYXRlclRoYW5PckVxdWFsIiwiY2hlY2siLCJmaWxsIl0sInNvdXJjZXMiOlsiSmlyYS1SZXBvcnRpbmctQXBwLVVYLVRydXN0LVZhbGlkYXRpb24tVGVzdHMuc3BlYy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogVVggVHJ1c3QgVmFsaWRhdGlvbjogcmVwb3J0LCBjdXJyZW50LXNwcmludCwgbGVhZGVyc2hpcCB3aXRoIGNvbnNvbGUgKGxvZ2NhdC1zdHlsZSlcclxuICogYW5kIHJlYWx0aW1lIFVJIGFzc2VydGlvbnMgYXQgZXZlcnkgc3RhZ2UuIEZhaWxzIG9uIFVJIG1pc21hdGNoIG9yIGJyb3dzZXIgZXJyb3JzLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IHRlc3QsIGV4cGVjdCB9IGZyb20gJ0BwbGF5d3JpZ2h0L3Rlc3QnO1xyXG5pbXBvcnQgeyBydW5EZWZhdWx0UHJldmlldywgd2FpdEZvclByZXZpZXcsIGNhcHR1cmVCcm93c2VyVGVsZW1ldHJ5IH0gZnJvbSAnLi9KaXJhUmVwb3J0aW5nLVRlc3RzLVNoYXJlZC1QcmV2aWV3RXhwb3J0LUhlbHBlcnMuanMnO1xyXG5cclxudGVzdC5kZXNjcmliZSgnSmlyYSBSZXBvcnRpbmcgQXBwIC0gVVggVHJ1c3QgVmFsaWRhdGlvbiAoVUkgKyBDb25zb2xlKScsICgpID0+IHtcclxuICB0ZXN0KCdyZXBvcnQgcGFnZSBsb2FkcyB3aXRoIGV4cGVjdGVkIGNvbnRyb2xzIGFuZCBubyBjb25zb2xlIGVycm9ycycsIGFzeW5jICh7IHBhZ2UgfSkgPT4ge1xyXG4gICAgY29uc3QgdGVsZW1ldHJ5ID0gY2FwdHVyZUJyb3dzZXJUZWxlbWV0cnkocGFnZSk7XHJcbiAgICBhd2FpdCBwYWdlLmdvdG8oJy9yZXBvcnQnKTtcclxuXHJcbiAgICBhd2FpdCBleHBlY3QocGFnZS5sb2NhdG9yKCdoMScpKS50b0NvbnRhaW5UZXh0KCdWb2RhQWdpbGVCb2FyZCcpO1xyXG4gICAgYXdhaXQgZXhwZWN0KHBhZ2UubG9jYXRvcignI3Byb2plY3QtbXBzYScpKS50b0JlVmlzaWJsZSgpO1xyXG4gICAgYXdhaXQgZXhwZWN0KHBhZ2UubG9jYXRvcignI3ByZXZpZXctYnRuJykpLnRvQmVWaXNpYmxlKCk7XHJcbiAgICBhd2FpdCBleHBlY3QocGFnZS5sb2NhdG9yKCcjZXhwb3J0LWV4Y2VsLWJ0bicpKS50b0JlVmlzaWJsZSgpO1xyXG4gICAgYXdhaXQgZXhwZWN0KHBhZ2UubG9jYXRvcignI2V4cG9ydC1kcm9wZG93bi10cmlnZ2VyJykpLnRvQmVWaXNpYmxlKCk7XHJcbiAgICBhd2FpdCBleHBlY3QocGFnZS5sb2NhdG9yKCcjcHJldmlldy1jb250ZW50JykpLnRvQmVIaWRkZW4oKTtcclxuXHJcbiAgICBhd2FpdCBleHBlY3QocGFnZS5sb2NhdG9yKCduYXYuYXBwLW5hdicpKS50b0JlVmlzaWJsZSgpO1xyXG4gICAgYXdhaXQgZXhwZWN0KHBhZ2UubG9jYXRvcignbmF2LmFwcC1uYXYgYVtocmVmPVwiL2N1cnJlbnQtc3ByaW50XCJdJykpLnRvQ29udGFpblRleHQoJ0N1cnJlbnQgU3ByaW50Jyk7XHJcbiAgICBhd2FpdCBleHBlY3QocGFnZS5sb2NhdG9yKCduYXYuYXBwLW5hdiBhW2hyZWY9XCIvc3ByaW50LWxlYWRlcnNoaXBcIl0nKSkudG9Db250YWluVGV4dCgnTGVhZGVyc2hpcCcpO1xyXG5cclxuICAgIGV4cGVjdCh0ZWxlbWV0cnkuY29uc29sZUVycm9ycykudG9FcXVhbChbXSk7XHJcbiAgICBleHBlY3QodGVsZW1ldHJ5LnBhZ2VFcnJvcnMpLnRvRXF1YWwoW10pO1xyXG4gICAgZXhwZWN0KHRlbGVtZXRyeS5mYWlsZWRSZXF1ZXN0cykudG9FcXVhbChbXSk7XHJcbiAgfSk7XHJcblxyXG4gIHRlc3QoJ3JlcG9ydCBwcmV2aWV3IGZsb3c6IEdlbmVyYXRlIFJlcG9ydCB0aGVuIFVJIHNob3dzIGNvbnRlbnQgb3IgZXJyb3Igd2l0aCBubyBjb25zb2xlIGVycm9ycycsIGFzeW5jICh7IHBhZ2UgfSkgPT4ge1xyXG4gICAgdGVzdC5zZXRUaW1lb3V0KDE4MDAwMCk7XHJcbiAgICBjb25zdCB0ZWxlbWV0cnkgPSBjYXB0dXJlQnJvd3NlclRlbGVtZXRyeShwYWdlKTtcclxuICAgIGF3YWl0IHBhZ2UuZ290bygnL3JlcG9ydCcpO1xyXG5cclxuICAgIGF3YWl0IGV4cGVjdChwYWdlLmxvY2F0b3IoJyNwcmV2aWV3LWJ0bicpKS50b0JlVmlzaWJsZSgpO1xyXG4gICAgYXdhaXQgcGFnZS5jbGljaygnI3ByZXZpZXctYnRuJyk7XHJcblxyXG4gICAgYXdhaXQgUHJvbWlzZS5yYWNlKFtcclxuICAgICAgcGFnZS53YWl0Rm9yU2VsZWN0b3IoJyNwcmV2aWV3LWNvbnRlbnQnLCB7IHN0YXRlOiAndmlzaWJsZScsIHRpbWVvdXQ6IDEyMDAwMCB9KS5jYXRjaCgoKSA9PiBudWxsKSxcclxuICAgICAgcGFnZS53YWl0Rm9yU2VsZWN0b3IoJyNlcnJvcicsIHsgc3RhdGU6ICd2aXNpYmxlJywgdGltZW91dDogMTIwMDAwIH0pLmNhdGNoKCgpID0+IG51bGwpLFxyXG4gICAgXSk7XHJcbiAgICBhd2FpdCB3YWl0Rm9yUHJldmlldyhwYWdlKTtcclxuXHJcbiAgICBjb25zdCBwcmV2aWV3VmlzaWJsZSA9IGF3YWl0IHBhZ2UubG9jYXRvcignI3ByZXZpZXctY29udGVudCcpLmlzVmlzaWJsZSgpLmNhdGNoKCgpID0+IGZhbHNlKTtcclxuICAgIGNvbnN0IGVycm9yVmlzaWJsZSA9IGF3YWl0IHBhZ2UubG9jYXRvcignI2Vycm9yJykuaXNWaXNpYmxlKCkuY2F0Y2goKCkgPT4gZmFsc2UpO1xyXG4gICAgZXhwZWN0KHByZXZpZXdWaXNpYmxlIHx8IGVycm9yVmlzaWJsZSkudG9CZVRydXRoeSgpO1xyXG5cclxuICAgIGV4cGVjdCh0ZWxlbWV0cnkuY29uc29sZUVycm9ycykudG9FcXVhbChbXSk7XHJcbiAgICBleHBlY3QodGVsZW1ldHJ5LnBhZ2VFcnJvcnMpLnRvRXF1YWwoW10pO1xyXG4gICAgZXhwZWN0KHRlbGVtZXRyeS5mYWlsZWRSZXF1ZXN0cykudG9FcXVhbChbXSk7XHJcbiAgfSk7XHJcblxyXG4gIHRlc3QoJ3JlcG9ydCB0YWJzIGFuZCBleHBvcnQ6IGFmdGVyIHByZXZpZXcsIHRhYnMgYW5kIGV4cG9ydCBjb250cm9scyBhcmUgdmlzaWJsZScsIGFzeW5jICh7IHBhZ2UgfSkgPT4ge1xyXG4gICAgdGVzdC5zZXRUaW1lb3V0KDE4MDAwMCk7XHJcbiAgICBjb25zdCB0ZWxlbWV0cnkgPSBjYXB0dXJlQnJvd3NlclRlbGVtZXRyeShwYWdlKTtcclxuICAgIGF3YWl0IHJ1bkRlZmF1bHRQcmV2aWV3KHBhZ2UpO1xyXG5cclxuICAgIGNvbnN0IHByZXZpZXdWaXNpYmxlID0gYXdhaXQgcGFnZS5sb2NhdG9yKCcjcHJldmlldy1jb250ZW50JykuaXNWaXNpYmxlKCkuY2F0Y2goKCkgPT4gZmFsc2UpO1xyXG4gICAgaWYgKCFwcmV2aWV3VmlzaWJsZSkge1xyXG4gICAgICB0ZXN0LnNraXAodHJ1ZSwgJ1ByZXZpZXcgbm90IHZpc2libGU7IG1heSByZXF1aXJlIEppcmEgY3JlZGVudGlhbHMnKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGF3YWl0IGV4cGVjdChwYWdlLmxvY2F0b3IoJy50YWJzJykpLnRvQmVWaXNpYmxlKCk7XHJcbiAgICBhd2FpdCBleHBlY3QocGFnZS5sb2NhdG9yKCcudGFiLWJ0bicpKS50b0hhdmVDb3VudCg0KTtcclxuICAgIGF3YWl0IGV4cGVjdChwYWdlLmxvY2F0b3IoJyN0YWItcHJvamVjdC1lcGljLWxldmVsJykpLnRvQmVWaXNpYmxlKCk7XHJcbiAgICBhd2FpdCBleHBlY3QocGFnZS5sb2NhdG9yKCcjZXhwb3J0LWV4Y2VsLWJ0bicpKS50b0JlVmlzaWJsZSgpO1xyXG4gICAgYXdhaXQgZXhwZWN0KHBhZ2UubG9jYXRvcignI2V4cG9ydC1kcm9wZG93bi10cmlnZ2VyJykpLnRvQmVWaXNpYmxlKCk7XHJcblxyXG4gICAgZXhwZWN0KHRlbGVtZXRyeS5jb25zb2xlRXJyb3JzKS50b0VxdWFsKFtdKTtcclxuICAgIGV4cGVjdCh0ZWxlbWV0cnkucGFnZUVycm9ycykudG9FcXVhbChbXSk7XHJcbiAgfSk7XHJcblxyXG4gIHRlc3QoJ2N1cnJlbnQtc3ByaW50IHBhZ2UgbG9hZHMgYW5kIHNob3dzIGJvYXJkIHNlbGVjdG9yIHdpdGggbm8gY29uc29sZSBlcnJvcnMnLCBhc3luYyAoeyBwYWdlIH0pID0+IHtcclxuICAgIGNvbnN0IHRlbGVtZXRyeSA9IGNhcHR1cmVCcm93c2VyVGVsZW1ldHJ5KHBhZ2UpO1xyXG4gICAgYXdhaXQgcGFnZS5nb3RvKCcvY3VycmVudC1zcHJpbnQnKTtcclxuXHJcbiAgICBpZiAocGFnZS51cmwoKS5pbmNsdWRlcygnbG9naW4nKSB8fCBwYWdlLnVybCgpLmVuZHNXaXRoKCcvJykpIHtcclxuICAgICAgdGVzdC5za2lwKHRydWUsICdSZWRpcmVjdGVkIHRvIGxvZ2luOyBhdXRoIG1heSBiZSByZXF1aXJlZCcpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgYXdhaXQgZXhwZWN0KHBhZ2UubG9jYXRvcignaDEnKSkudG9Db250YWluVGV4dCgnQ3VycmVudCBTcHJpbnQnKTtcclxuICAgIGF3YWl0IGV4cGVjdChwYWdlLmxvY2F0b3IoJyNib2FyZC1zZWxlY3QnKSkudG9CZVZpc2libGUoKTtcclxuICAgIGF3YWl0IGV4cGVjdChwYWdlLmxvY2F0b3IoJ25hdi5hcHAtbmF2IGFbaHJlZj1cIi9yZXBvcnRcIl0nKSkudG9Db250YWluVGV4dCgnUmVwb3J0Jyk7XHJcbiAgICBhd2FpdCBleHBlY3QocGFnZS5sb2NhdG9yKCduYXYuYXBwLW5hdiBhW2hyZWY9XCIvc3ByaW50LWxlYWRlcnNoaXBcIl0nKSkudG9Db250YWluVGV4dCgnTGVhZGVyc2hpcCcpO1xyXG4gICAgY29uc3Qgb3B0aW9ucyA9IGF3YWl0IHBhZ2UubG9jYXRvcignI2JvYXJkLXNlbGVjdCBvcHRpb24nKS5hbGxUZXh0Q29udGVudHMoKTtcclxuICAgIGV4cGVjdChvcHRpb25zLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgxKTtcclxuXHJcbiAgICBleHBlY3QodGVsZW1ldHJ5LmNvbnNvbGVFcnJvcnMpLnRvRXF1YWwoW10pO1xyXG4gICAgZXhwZWN0KHRlbGVtZXRyeS5wYWdlRXJyb3JzKS50b0VxdWFsKFtdKTtcclxuICAgIGV4cGVjdCh0ZWxlbWV0cnkuZmFpbGVkUmVxdWVzdHMpLnRvRXF1YWwoW10pO1xyXG4gIH0pO1xyXG5cclxuICB0ZXN0KCdzcHJpbnQtbGVhZGVyc2hpcCBwYWdlIGxvYWRzIGFuZCBzaG93cyBkYXRlIGlucHV0cyBhbmQgUHJldmlldyB3aXRoIG5vIGNvbnNvbGUgZXJyb3JzJywgYXN5bmMgKHsgcGFnZSB9KSA9PiB7XHJcbiAgICBjb25zdCB0ZWxlbWV0cnkgPSBjYXB0dXJlQnJvd3NlclRlbGVtZXRyeShwYWdlKTtcclxuICAgIGF3YWl0IHBhZ2UuZ290bygnL3NwcmludC1sZWFkZXJzaGlwJyk7XHJcblxyXG4gICAgaWYgKHBhZ2UudXJsKCkuaW5jbHVkZXMoJ2xvZ2luJykgfHwgcGFnZS51cmwoKS5lbmRzV2l0aCgnLycpKSB7XHJcbiAgICAgIHRlc3Quc2tpcCh0cnVlLCAnUmVkaXJlY3RlZCB0byBsb2dpbjsgYXV0aCBtYXkgYmUgcmVxdWlyZWQnKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGF3YWl0IGV4cGVjdChwYWdlLmxvY2F0b3IoJ2gxJykpLnRvQ29udGFpblRleHQoJ1NwcmludCBMZWFkZXJzaGlwJyk7XHJcbiAgICBhd2FpdCBleHBlY3QocGFnZS5sb2NhdG9yKCcjbGVhZGVyc2hpcC1zdGFydCcpKS50b0JlVmlzaWJsZSgpO1xyXG4gICAgYXdhaXQgZXhwZWN0KHBhZ2UubG9jYXRvcignI2xlYWRlcnNoaXAtZW5kJykpLnRvQmVWaXNpYmxlKCk7XHJcbiAgICBhd2FpdCBleHBlY3QocGFnZS5sb2NhdG9yKCcjbGVhZGVyc2hpcC1wcmV2aWV3JykpLnRvQmVWaXNpYmxlKCk7XHJcbiAgICBhd2FpdCBleHBlY3QocGFnZS5sb2NhdG9yKCcjbGVhZGVyc2hpcC1wcmV2aWV3JykpLnRvQ29udGFpblRleHQoJ1ByZXZpZXcnKTtcclxuICAgIGF3YWl0IGV4cGVjdChwYWdlLmxvY2F0b3IoJ25hdi5hcHAtbmF2IGFbaHJlZj1cIi9yZXBvcnRcIl0nKSkudG9Db250YWluVGV4dCgnUmVwb3J0Jyk7XHJcbiAgICBhd2FpdCBleHBlY3QocGFnZS5sb2NhdG9yKCduYXYuYXBwLW5hdiBhW2hyZWY9XCIvY3VycmVudC1zcHJpbnRcIl0nKSkudG9Db250YWluVGV4dCgnQ3VycmVudCBTcHJpbnQnKTtcclxuXHJcbiAgICBleHBlY3QodGVsZW1ldHJ5LmNvbnNvbGVFcnJvcnMpLnRvRXF1YWwoW10pO1xyXG4gICAgZXhwZWN0KHRlbGVtZXRyeS5wYWdlRXJyb3JzKS50b0VxdWFsKFtdKTtcclxuICAgIGV4cGVjdCh0ZWxlbWV0cnkuZmFpbGVkUmVxdWVzdHMpLnRvRXF1YWwoW10pO1xyXG4gIH0pO1xyXG5cclxuICB0ZXN0KCd2YWxpZGF0aW9uIGVycm9yOiBzdGFydCA+PSBlbmQgc2hvd3Mgc2luZ2xlIGVycm9yIGJhbm5lciBhbmQgbm8gcmVxdWVzdCcsIGFzeW5jICh7IHBhZ2UgfSkgPT4ge1xyXG4gICAgY29uc3QgdGVsZW1ldHJ5ID0gY2FwdHVyZUJyb3dzZXJUZWxlbWV0cnkocGFnZSk7XHJcbiAgICBhd2FpdCBwYWdlLmdvdG8oJy9yZXBvcnQnKTtcclxuXHJcbiAgICBhd2FpdCBwYWdlLmNoZWNrKCcjcHJvamVjdC1tcHNhJyk7XHJcbiAgICBhd2FpdCBwYWdlLmZpbGwoJyNzdGFydC1kYXRlJywgJzIwMjUtMDktMzBUMjM6NTknKTtcclxuICAgIGF3YWl0IHBhZ2UuZmlsbCgnI2VuZC1kYXRlJywgJzIwMjUtMDctMDFUMDA6MDAnKTtcclxuICAgIGF3YWl0IHBhZ2UuY2xpY2soJyNwcmV2aWV3LWJ0bicpO1xyXG5cclxuICAgIGF3YWl0IGV4cGVjdChwYWdlLmxvY2F0b3IoJyNlcnJvcicpKS50b0JlVmlzaWJsZSgpO1xyXG4gICAgYXdhaXQgZXhwZWN0KHBhZ2UubG9jYXRvcignI2Vycm9yJykpLnRvQ29udGFpblRleHQoL3N0YXJ0LipiZWZvcmUuKmVuZHxkYXRlL2kpO1xyXG5cclxuICAgIGV4cGVjdCh0ZWxlbWV0cnkuY29uc29sZUVycm9ycykudG9FcXVhbChbXSk7XHJcbiAgICBleHBlY3QodGVsZW1ldHJ5LnBhZ2VFcnJvcnMpLnRvRXF1YWwoW10pO1xyXG4gIH0pO1xyXG59KTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTQSxJQUFJLEVBQUVDLE1BQU0sUUFBUSxrQkFBa0I7QUFDL0MsU0FBU0MsaUJBQWlCLEVBQUVDLGNBQWMsRUFBRUMsdUJBQXVCLFFBQVEsdURBQXVEO0FBRWxJSixJQUFJLENBQUNLLFFBQVEsQ0FBQyx5REFBeUQsRUFBRSxNQUFNO0VBQzdFTCxJQUFJLENBQUMsZ0VB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