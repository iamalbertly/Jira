{"version":3,"names":["test","expect","describe","page","goto","url","includes","endsWith","skip","locator","toContainText","toBeVisible","select","options","allTextContents","length","toBeGreaterThanOrEqual","setTimeout","waitForSelector","state","timeout","hasBoards","count","selectOption","index","waitForTimeout","content","loading","error","contentVisible","isVisible","loadingText","textContent","bodyText","hasNoSprintMsg","toBeTruthy","click","loadingVisible","errorVisible","hasContent","trim","hasError"],"sources":["Jira-Reporting-App-Current-Sprint-Leadership-View-Tests.spec.js"],"sourcesContent":["import { test, expect } from '@playwright/test';\r\n\r\ntest.describe('Jira Reporting App - Current Sprint and Leadership View Tests', () => {\r\n  test('should load current-sprint page and show board selector', async ({ page }) => {\r\n    await page.goto('/current-sprint');\r\n    if (page.url().includes('login') || page.url().endsWith('/')) {\r\n      test.skip('Redirected to login or home; auth may be required');\r\n      return;\r\n    }\r\n    await expect(page.locator('h1')).toContainText('Current Sprint');\r\n    await expect(page.locator('#board-select')).toBeVisible();\r\n    const select = page.locator('#board-select');\r\n    await expect(select).toBeVisible();\r\n    const options = await select.locator('option').allTextContents();\r\n    expect(options.length).toBeGreaterThanOrEqual(1);\r\n  });\r\n\r\n  test('should load current-sprint and handle board selection without crash', async ({ page }) => {\r\n    test.setTimeout(60000);\r\n    await page.goto('/current-sprint');\r\n    if (page.url().includes('login') || page.url().endsWith('/')) {\r\n      test.skip('Redirected to login or home; auth may be required');\r\n      return;\r\n    }\r\n    await expect(page.locator('#board-select')).toBeVisible();\r\n    await page.waitForSelector('#board-select', { state: 'visible', timeout: 10000 });\r\n    const hasBoards = await page.locator('#board-select option[value]:not([value=\"\"])').count() > 0;\r\n    if (hasBoards) {\n      await page.selectOption('#board-select', { index: 1 });\n      await page.waitForTimeout(3000);\n      const content = page.locator('#current-sprint-content');\n      const loading = page.locator('#current-sprint-loading');\r\n      const error = page.locator('#current-sprint-error');\r\n      const contentVisible = await content.isVisible();\r\n      const loadingText = await loading.textContent();\r\n      const bodyText = await page.locator('body').textContent();\n      const hasNoSprintMsg = bodyText && (bodyText.includes('No active') || bodyText.includes('recent closed sprint') || bodyText.includes('no active'));\n      expect(contentVisible || hasNoSprintMsg || loadingText?.includes('Select') || (await error.isVisible())).toBeTruthy();\n\n      if (contentVisible && !hasNoSprintMsg) {\n        await expect(page.locator('.sprint-tabs')).toBeVisible();\n        await expect(page.locator('#sprint-summary-card')).toBeVisible();\n      }\n    }\n  });\n\r\n  test('should load sprint-leadership page and show date inputs and Preview', async ({ page }) => {\r\n    await page.goto('/sprint-leadership');\r\n    if (page.url().includes('login') || page.url().endsWith('/')) {\r\n      test.skip('Redirected to login or home; auth may be required');\r\n      return;\r\n    }\r\n    await expect(page.locator('h1')).toContainText('Sprint Leadership');\r\n    await expect(page.locator('#leadership-start')).toBeVisible();\r\n    await expect(page.locator('#leadership-end')).toBeVisible();\r\n    await expect(page.locator('#leadership-preview')).toBeVisible();\r\n    await expect(page.locator('#leadership-preview')).toContainText('Preview');\r\n  });\r\n\r\n  test('should load sprint-leadership and handle Preview click without crash', async ({ page }) => {\n    test.setTimeout(90000);\r\n    await page.goto('/sprint-leadership');\r\n    if (page.url().includes('login') || page.url().endsWith('/')) {\r\n      test.skip('Redirected to login or home; auth may be required');\r\n      return;\r\n    }\r\n    await expect(page.locator('#leadership-preview')).toBeVisible();\r\n    await page.click('#leadership-preview');\r\n    await page.waitForTimeout(5000);\r\n    const content = page.locator('#leadership-content');\r\n    const loading = page.locator('#leadership-loading');\r\n    const error = page.locator('#leadership-error');\r\n    const contentVisible = await content.isVisible();\r\n    const loadingVisible = await loading.isVisible();\r\n    const errorVisible = await error.isVisible();\r\n    const bodyText = await page.locator('body').textContent();\n    const hasContent = contentVisible && (await content.textContent())?.trim().length > 0;\n    const hasError = errorVisible && (await error.textContent())?.trim().length > 0;\n    expect(hasContent || loadingVisible || hasError || (bodyText && bodyText.length > 0)).toBeTruthy();\n\n    if (hasContent) {\n      await expect(page.locator('text=Velocity (SP/day)')).toBeVisible();\n    }\n  });\n});\n"],"mappings":"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","ignoreList":[]}