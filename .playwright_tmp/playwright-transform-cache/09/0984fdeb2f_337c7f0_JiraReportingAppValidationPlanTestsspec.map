{"version":3,"names":["test","expect","captureBrowserTelemetry","describe","page","telemetry","goto","locator","toContainText","toBeVisible","nav","toHaveCount","toBeHidden","consoleErrors","toEqual","pageErrors","failedRequests","uncheck","previewButton","toBeDisabled","toHaveAttribute","check","fill","click","errorBanner"],"sources":["Jira-Reporting-App-Validation-Plan-Tests.spec.js"],"sourcesContent":["import { test, expect } from '@playwright/test';\nimport { captureBrowserTelemetry } from './JiraReporting-Tests-Shared-PreviewExport-Helpers.js';\n\ntest.describe('Jira Reporting App - Validation Plan (UI + Telemetry)', () => {\n  test('report page loads with expected controls and no console errors', async ({ page }) => {\n    const telemetry = captureBrowserTelemetry(page);\n\n    await page.goto('/report');\n\n    await expect(page.locator('h1')).toContainText('VodaAgileBoard');\n    await expect(page.locator('#project-mpsa')).toBeVisible();\n    await expect(page.locator('#project-mas')).toBeVisible();\n    await expect(page.locator('#start-date')).toBeVisible();\n    await expect(page.locator('#end-date')).toBeVisible();\n    await expect(page.locator('#preview-btn')).toBeVisible();\n\n    // Main nav: Report | Current Sprint | Leadership\n    const nav = page.locator('nav.app-nav');\n    await expect(nav).toBeVisible();\n    await expect(nav.locator('a[href=\"/current-sprint\"]')).toContainText('Current Sprint');\n    await expect(nav.locator('a[href=\"/sprint-leadership\"]')).toContainText('Leadership');\n\n    // Tabs are present in the DOM but hidden until preview is generated\n    await expect(page.locator('.tabs')).toHaveCount(1);\n    await expect(page.locator('#preview-content')).toBeHidden();\n\n    // Export buttons should be present (may be disabled before preview)\n    await expect(page.locator('#export-excel-btn')).toBeVisible();\n    await expect(page.locator('#export-dropdown-trigger')).toBeVisible();\n\n    // Validate no browser errors on load (ignoring favicon noise)\n    expect(telemetry.consoleErrors).toEqual([]);\n    expect(telemetry.pageErrors).toEqual([]);\n    expect(telemetry.failedRequests).toEqual([]);\n  });\n\n  test('preview button disables when no projects are selected', async ({ page }) => {\n    const telemetry = captureBrowserTelemetry(page);\n\n    await page.goto('/report');\n\n    await page.uncheck('#project-mpsa');\n    await page.uncheck('#project-mas');\n\n    const previewButton = page.locator('#preview-btn');\n    await expect(previewButton).toBeDisabled();\n    await expect(previewButton).toHaveAttribute('title', /select at least one project/i);\n\n    expect(telemetry.consoleErrors).toEqual([]);\n    expect(telemetry.pageErrors).toEqual([]);\n  });\n\n  test('preview button validates date ordering and shows error state', async ({ page }) => {\n    const telemetry = captureBrowserTelemetry(page);\n\n    await page.goto('/report');\n\n    await page.check('#project-mpsa');\n    await page.fill('#start-date', '2025-09-30T23:59');\n    await page.fill('#end-date', '2025-07-01T00:00');\n\n    await page.click('#preview-btn');\n\n    const errorBanner = page.locator('#error');\n    await expect(errorBanner).toBeVisible();\n    await expect(errorBanner).toContainText('Start date must be before end date');\n\n    expect(telemetry.consoleErrors).toEqual([]);\n    expect(telemetry.pageErrors).toEqual([]);\n  });\n});\n"],"mappings":"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","ignoreList":[]}