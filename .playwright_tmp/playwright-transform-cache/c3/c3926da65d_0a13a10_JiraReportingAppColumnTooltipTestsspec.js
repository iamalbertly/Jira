import { test, expect } from '@playwright/test';
import { runDefaultPreview } from './JiraReporting-Tests-Shared-PreviewExport-Helpers.js';
const DEFAULT_Q2_START = '2025-07-01T00:00';
const DEFAULT_Q2_END = '2025-09-30T23:59';
test.describe('Jira Reporting App - Column Titles & Tooltips', () => {
  test.beforeEach(async ({
    page
  }) => {
    await page.goto('/report');
    await expect(page.locator('h1')).toContainText('VodaAgileBoard');
  });
  test('boards table column titles expose helpful tooltips', async ({
    page
  }) => {
    test.setTimeout(300000);
    await runDefaultPreview(page);
    const previewVisible = await page.locator('#preview-content').isVisible().catch(() => false);
    if (!previewVisible) {
      test.skip();
    }
    await page.click('.tab-btn[data-tab="project-epic-level"]');
    const table = page.locator('#project-epic-level-content table');
    const tableVisible = await table.isVisible().catch(() => false);
    if (!tableVisible) {
      test.skip();
    }
    const headers = table.locator('thead th');
    async function expectHeaderWithTooltip(label, snippet) {
      const header = headers.filter({
        hasText: label
      });
      const count = await header.count();
      expect(count).toBeGreaterThan(0);
      const titleAttr = await header.first().getAttribute('title');
      expect(titleAttr).toBeTruthy();
      if (snippet) {
        expect(titleAttr).toContain(snippet);
      }
    }
    await expectHeaderWithTooltip('Board ID', 'Jira board identifier');
    await expectHeaderWithTooltip('Board', 'Board name shown in Jira');
    await expectHeaderWithTooltip('Done Stories', 'Stories marked Done in included sprints');
    await expectHeaderWithTooltip('SP / Day', 'Done SP รท Sprint Days');
    await expectHeaderWithTooltip('On-Time %', 'On-time delivery discipline');
    await expectHeaderWithTooltip('Ad-hoc', 'often ad-hoc work');
  });
  test('sprints table column titles expose helpful tooltips', async ({
    page
  }) => {
    test.setTimeout(300000);
    await runDefaultPreview(page);
    const previewVisible = await page.locator('#preview-content').isVisible().catch(() => false);
    if (!previewVisible) {
      test.skip();
    }
    await page.click('.tab-btn[data-tab="sprints"]');
    const table = page.locator('#sprints-content table');
    const tableVisible = await table.isVisible().catch(() => false);
    if (!tableVisible) {
      test.skip();
    }
    const headers = table.locator('thead th');
    async function expectHeaderWithTooltip(label, snippet) {
      const header = headers.filter({
        hasText: label
      });
      const count = await header.count();
      expect(count).toBeGreaterThan(0);
      const titleAttr = await header.first().getAttribute('title');
      expect(titleAttr).toBeTruthy();
      if (snippet) {
        expect(titleAttr).toContain(snippet);
      }
    }
    await expectHeaderWithTooltip('Project', 'Projects included for this sprint');
    await expectHeaderWithTooltip('Sprint', 'Sprint name');
    await expectHeaderWithTooltip('Start', 'Sprint start date');
    await expectHeaderWithTooltip('End', 'Sprint end date');
    await expectHeaderWithTooltip('Done Stories', 'Stories marked Done in this sprint');
    await expectHeaderWithTooltip('Done SP', 'Story points completed in this sprint');
  });
  test('done stories table column titles expose helpful tooltips', async ({
    page
  }) => {
    test.setTimeout(300000);
    await runDefaultPreview(page);
    const previewVisible = await page.locator('#preview-content').isVisible().catch(() => false);
    if (!previewVisible) {
      test.skip();
    }
    await page.click('.tab-btn[data-tab="done-stories"]');
    const table = page.locator('#done-stories-content table');
    const tableVisible = await table.isVisible().catch(() => false);
    if (!tableVisible) {
      // If there are no done stories rows, we cannot assert headers
      test.skip();
    }
    const headers = table.locator('thead th');
    async function expectHeaderWithTooltip(label, snippet) {
      const header = headers.filter({
        hasText: label
      });
      const count = await header.count();
      expect(count).toBeGreaterThan(0);
      const titleAttr = await header.first().getAttribute('title');
      expect(titleAttr).toBeTruthy();
      if (snippet) {
        expect(titleAttr).toContain(snippet);
      }
    }
    await expectHeaderWithTooltip('Key', 'Jira issue key');
    await expectHeaderWithTooltip('Summary', 'Issue summary from Jira');
    await expectHeaderWithTooltip('Status', 'Current Jira status');
    await expectHeaderWithTooltip('Type', 'Issue type');

    // If story points and epic data exist, their columns should also expose tooltips
    const spHeaderCount = await headers.filter({
      hasText: 'SP'
    }).count();
    if (spHeaderCount > 0) {
      const spHeader = headers.filter({
        hasText: 'SP'
      }).first();
      const titleAttr = await spHeader.getAttribute('title');
      expect(titleAttr).toBeTruthy();
      expect(titleAttr).toContain('Story Points');
    }
    const epicHeaderCount = await headers.filter({
      hasText: 'Epic Title'
    }).count();
    if (epicHeaderCount > 0) {
      const epicTitleHeader = headers.filter({
        hasText: 'Epic Title'
      }).first();
      const epicSummaryHeader = headers.filter({
        hasText: 'Epic Summary'
      }).first();
      const epicTitleTooltip = await epicTitleHeader.getAttribute('title');
      const epicSummaryTooltip = await epicSummaryHeader.getAttribute('title');
      expect(epicTitleTooltip).toBeTruthy();
      expect(epicTitleTooltip).toContain('Epic title');
      expect(epicSummaryTooltip).toBeTruthy();
      expect(epicSummaryTooltip).toContain('Epic summary');
    }
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ0ZXN0IiwiZXhwZWN0IiwicnVuRGVmYXVsdFByZXZpZXciLCJERUZBVUxUX1EyX1NUQVJUIiwiREVGQVVMVF9RMl9FTkQiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJwYWdlIiwiZ290byIsImxvY2F0b3IiLCJ0b0NvbnRhaW5UZXh0Iiwic2V0VGltZW91dCIsInByZXZpZXdWaXNpYmxlIiwiaXNWaXNpYmxlIiwiY2F0Y2giLCJza2lwIiwiY2xpY2siLCJ0YWJsZSIsInRhYmxlVmlzaWJsZSIsImhlYWRlcnMiLCJleHBlY3RIZWFkZXJXaXRoVG9vbHRpcCIsImxhYmVsIiwic25pcHBldCIsImhlYWRlciIsImZpbHRlciIsImhhc1RleHQiLCJjb3VudCIsInRvQmVHcmVhdGVyVGhhbiIsInRpdGxlQXR0ciIsImZpcnN0IiwiZ2V0QXR0cmlidXRlIiwidG9CZVRydXRoeSIsInRvQ29udGFpbiIsInNwSGVhZGVyQ291bnQiLCJzcEhlYWRlciIsImVwaWNIZWFkZXJDb3VudCIsImVwaWNUaXRsZUhlYWRlciIsImVwaWNTdW1tYXJ5SGVhZGVyIiwiZXBpY1RpdGxlVG9vbHRpcCIsImVwaWNTdW1tYXJ5VG9vbHRpcCJdLCJzb3VyY2VzIjpbIkppcmEtUmVwb3J0aW5nLUFwcC1Db2x1bW4tVG9vbHRpcC1UZXN0cy5zcGVjLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHRlc3QsIGV4cGVjdCB9IGZyb20gJ0BwbGF5d3JpZ2h0L3Rlc3QnO1xyXG5pbXBvcnQgeyBydW5EZWZhdWx0UHJldmlldyB9IGZyb20gJy4vSmlyYVJlcG9ydGluZy1UZXN0cy1TaGFyZWQtUHJldmlld0V4cG9ydC1IZWxwZXJzLmpzJztcclxuXHJcbmNvbnN0IERFRkFVTFRfUTJfU1RBUlQgPSAnMjAyNS0wNy0wMVQwMDowMCc7XHJcbmNvbnN0IERFRkFVTFRfUTJfRU5EID0gJzIwMjUtMDktMzBUMjM6NTknO1xyXG5cclxudGVzdC5kZXNjcmliZSgnSmlyYSBSZXBvcnRpbmcgQXBwIC0gQ29sdW1uIFRpdGxlcyAmIFRvb2x0aXBzJywgKCkgPT4ge1xyXG4gIHRlc3QuYmVmb3JlRWFjaChhc3luYyAoeyBwYWdlIH0pID0+IHtcclxuICAgIGF3YWl0IHBhZ2UuZ290bygnL3JlcG9ydCcpO1xyXG4gICAgYXdhaXQgZXhwZWN0KHBhZ2UubG9jYXRvcignaDEnKSkudG9Db250YWluVGV4dCgnVm9kYUFnaWxlQm9hcmQnKTtcclxuICB9KTtcclxuXHJcbiAgdGVzdCgnYm9hcmRzIHRhYmxlIGNvbHVtbiB0aXRsZXMgZXhwb3NlIGhlbHBmdWwgdG9vbHRpcHMnLCBhc3luYyAoeyBwYWdlIH0pID0+IHtcclxuICAgIHRlc3Quc2V0VGltZW91dCgzMDAwMDApO1xyXG4gICAgYXdhaXQgcnVuRGVmYXVsdFByZXZpZXcocGFnZSk7XHJcblxyXG4gICAgY29uc3QgcHJldmlld1Zpc2libGUgPSBhd2FpdCBwYWdlLmxvY2F0b3IoJyNwcmV2aWV3LWNvbnRlbnQnKS5pc1Zpc2libGUoKS5jYXRjaCgoKSA9PiBmYWxzZSk7XHJcbiAgICBpZiAoIXByZXZpZXdWaXNpYmxlKSB7XHJcbiAgICAgIHRlc3Quc2tpcCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGF3YWl0IHBhZ2UuY2xpY2soJy50YWItYnRuW2RhdGEtdGFiPVwicHJvamVjdC1lcGljLWxldmVsXCJdJyk7XHJcbiAgICBjb25zdCB0YWJsZSA9IHBhZ2UubG9jYXRvcignI3Byb2plY3QtZXBpYy1sZXZlbC1jb250ZW50IHRhYmxlJyk7XHJcbiAgICBjb25zdCB0YWJsZVZpc2libGUgPSBhd2FpdCB0YWJsZS5pc1Zpc2libGUoKS5jYXRjaCgoKSA9PiBmYWxzZSk7XHJcbiAgICBpZiAoIXRhYmxlVmlzaWJsZSkge1xyXG4gICAgICB0ZXN0LnNraXAoKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBoZWFkZXJzID0gdGFibGUubG9jYXRvcigndGhlYWQgdGgnKTtcclxuXHJcbiAgICBhc3luYyBmdW5jdGlvbiBleHBlY3RIZWFkZXJXaXRoVG9vbHRpcChsYWJlbCwgc25pcHBldCkge1xyXG4gICAgICBjb25zdCBoZWFkZXIgPSBoZWFkZXJzLmZpbHRlcih7IGhhc1RleHQ6IGxhYmVsIH0pO1xyXG4gICAgICBjb25zdCBjb3VudCA9IGF3YWl0IGhlYWRlci5jb3VudCgpO1xyXG4gICAgICBleHBlY3QoY291bnQpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgICAgY29uc3QgdGl0bGVBdHRyID0gYXdhaXQgaGVhZGVyLmZpcnN0KCkuZ2V0QXR0cmlidXRlKCd0aXRsZScpO1xyXG4gICAgICBleHBlY3QodGl0bGVBdHRyKS50b0JlVHJ1dGh5KCk7XHJcbiAgICAgIGlmIChzbmlwcGV0KSB7XHJcbiAgICAgICAgZXhwZWN0KHRpdGxlQXR0cikudG9Db250YWluKHNuaXBwZXQpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXdhaXQgZXhwZWN0SGVhZGVyV2l0aFRvb2x0aXAoJ0JvYXJkIElEJywgJ0ppcmEgYm9hcmQgaWRlbnRpZmllcicpO1xyXG4gICAgYXdhaXQgZXhwZWN0SGVhZGVyV2l0aFRvb2x0aXAoJ0JvYXJkJywgJ0JvYXJkIG5hbWUgc2hvd24gaW4gSmlyYScpO1xyXG4gICAgYXdhaXQgZXhwZWN0SGVhZGVyV2l0aFRvb2x0aXAoJ0RvbmUgU3RvcmllcycsICdTdG9yaWVzIG1hcmtlZCBEb25lIGluIGluY2x1ZGVkIHNwcmludHMnKTtcclxuICAgIGF3YWl0IGV4cGVjdEhlYWRlcldpdGhUb29sdGlwKCdTUCAvIERheScsICdEb25lIFNQIMO3IFNwcmludCBEYXlzJyk7XHJcbiAgICBhd2FpdCBleHBlY3RIZWFkZXJXaXRoVG9vbHRpcCgnT24tVGltZSAlJywgJ09uLXRpbWUgZGVsaXZlcnkgZGlzY2lwbGluZScpO1xyXG4gICAgYXdhaXQgZXhwZWN0SGVhZGVyV2l0aFRvb2x0aXAoJ0FkLWhvYycsICdvZnRlbiBhZC1ob2Mgd29yaycpO1xyXG4gIH0pO1xyXG5cclxuICB0ZXN0KCdzcHJpbnRzIHRhYmxlIGNvbHVtbiB0aXRsZXMgZXhwb3NlIGhlbHBmdWwgdG9vbHRpcHMnLCBhc3luYyAoeyBwYWdlIH0pID0+IHtcclxuICAgIHRlc3Quc2V0VGltZW91dCgzMDAwMDApO1xyXG4gICAgYXdhaXQgcnVuRGVmYXVsdFByZXZpZXcocGFnZSk7XHJcblxyXG4gICAgY29uc3QgcHJldmlld1Zpc2libGUgPSBhd2FpdCBwYWdlLmxvY2F0b3IoJyNwcmV2aWV3LWNvbnRlbnQnKS5pc1Zpc2libGUoKS5jYXRjaCgoKSA9PiBmYWxzZSk7XHJcbiAgICBpZiAoIXByZXZpZXdWaXNpYmxlKSB7XHJcbiAgICAgIHRlc3Quc2tpcCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGF3YWl0IHBhZ2UuY2xpY2soJy50YWItYnRuW2RhdGEtdGFiPVwic3ByaW50c1wiXScpO1xyXG4gICAgY29uc3QgdGFibGUgPSBwYWdlLmxvY2F0b3IoJyNzcHJpbnRzLWNvbnRlbnQgdGFibGUnKTtcclxuICAgIGNvbnN0IHRhYmxlVmlzaWJsZSA9IGF3YWl0IHRhYmxlLmlzVmlzaWJsZSgpLmNhdGNoKCgpID0+IGZhbHNlKTtcclxuICAgIGlmICghdGFibGVWaXNpYmxlKSB7XHJcbiAgICAgIHRlc3Quc2tpcCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGhlYWRlcnMgPSB0YWJsZS5sb2NhdG9yKCd0aGVhZCB0aCcpO1xyXG5cclxuICAgIGFzeW5jIGZ1bmN0aW9uIGV4cGVjdEhlYWRlcldpdGhUb29sdGlwKGxhYmVsLCBzbmlwcGV0KSB7XHJcbiAgICAgIGNvbnN0IGhlYWRlciA9IGhlYWRlcnMuZmlsdGVyKHsgaGFzVGV4dDogbGFiZWwgfSk7XHJcbiAgICAgIGNvbnN0IGNvdW50ID0gYXdhaXQgaGVhZGVyLmNvdW50KCk7XHJcbiAgICAgIGV4cGVjdChjb3VudCkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgICBjb25zdCB0aXRsZUF0dHIgPSBhd2FpdCBoZWFkZXIuZmlyc3QoKS5nZXRBdHRyaWJ1dGUoJ3RpdGxlJyk7XHJcbiAgICAgIGV4cGVjdCh0aXRsZUF0dHIpLnRvQmVUcnV0aHkoKTtcclxuICAgICAgaWYgKHNuaXBwZXQpIHtcclxuICAgICAgICBleHBlY3QodGl0bGVBdHRyKS50b0NvbnRhaW4oc25pcHBldCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhd2FpdCBleHBlY3RIZWFkZXJXaXRoVG9vbHRpcCgnUHJvamVjdCcsICdQcm9qZWN0cyBpbmNsdWRlZCBmb3IgdGhpcyBzcHJpbnQnKTtcclxuICAgIGF3YWl0IGV4cGVjdEhlYWRlcldpdGhUb29sdGlwKCdTcHJpbnQnLCAnU3ByaW50IG5hbWUnKTtcclxuICAgIGF3YWl0IGV4cGVjdEhlYWRlcldpdGhUb29sdGlwKCdTdGFydCcsICdTcHJpbnQgc3RhcnQgZGF0ZScpO1xyXG4gICAgYXdhaXQgZXhwZWN0SGVhZGVyV2l0aFRvb2x0aXAoJ0VuZCcsICdTcHJpbnQgZW5kIGRhdGUnKTtcclxuICAgIGF3YWl0IGV4cGVjdEhlYWRlcldpdGhUb29sdGlwKCdEb25lIFN0b3JpZXMnLCAnU3RvcmllcyBtYXJrZWQgRG9uZSBpbiB0aGlzIHNwcmludCcpO1xyXG4gICAgYXdhaXQgZXhwZWN0SGVhZGVyV2l0aFRvb2x0aXAoJ0RvbmUgU1AnLCAnU3RvcnkgcG9pbnRzIGNvbXBsZXRlZCBpbiB0aGlzIHNwcmludCcpO1xyXG4gIH0pO1xyXG5cclxuICB0ZXN0KCdkb25lIHN0b3JpZXMgdGFibGUgY29sdW1uIHRpdGxlcyBleHBvc2UgaGVscGZ1bCB0b29sdGlwcycsIGFzeW5jICh7IHBhZ2UgfSkgPT4ge1xyXG4gICAgdGVzdC5zZXRUaW1lb3V0KDMwMDAwMCk7XHJcbiAgICBhd2FpdCBydW5EZWZhdWx0UHJldmlldyhwYWdlKTtcclxuXHJcbiAgICBjb25zdCBwcmV2aWV3VmlzaWJsZSA9IGF3YWl0IHBhZ2UubG9jYXRvcignI3ByZXZpZXctY29udGVudCcpLmlzVmlzaWJsZSgpLmNhdGNoKCgpID0+IGZhbHNlKTtcclxuICAgIGlmICghcHJldmlld1Zpc2libGUpIHtcclxuICAgICAgdGVzdC5za2lwKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXdhaXQgcGFnZS5jbGljaygnLnRhYi1idG5bZGF0YS10YWI9XCJkb25lLXN0b3JpZXNcIl0nKTtcclxuICAgIGNvbnN0IHRhYmxlID0gcGFnZS5sb2NhdG9yKCcjZG9uZS1zdG9yaWVzLWNvbnRlbnQgdGFibGUnKTtcclxuICAgIGNvbnN0IHRhYmxlVmlzaWJsZSA9IGF3YWl0IHRhYmxlLmlzVmlzaWJsZSgpLmNhdGNoKCgpID0+IGZhbHNlKTtcclxuICAgIGlmICghdGFibGVWaXNpYmxlKSB7XHJcbiAgICAgIC8vIElmIHRoZXJlIGFyZSBubyBkb25lIHN0b3JpZXMgcm93cywgd2UgY2Fubm90IGFzc2VydCBoZWFkZXJzXHJcbiAgICAgIHRlc3Quc2tpcCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGhlYWRlcnMgPSB0YWJsZS5sb2NhdG9yKCd0aGVhZCB0aCcpO1xyXG5cclxuICAgIGFzeW5jIGZ1bmN0aW9uIGV4cGVjdEhlYWRlcldpdGhUb29sdGlwKGxhYmVsLCBzbmlwcGV0KSB7XHJcbiAgICAgIGNvbnN0IGhlYWRlciA9IGhlYWRlcnMuZmlsdGVyKHsgaGFzVGV4dDogbGFiZWwgfSk7XHJcbiAgICAgIGNvbnN0IGNvdW50ID0gYXdhaXQgaGVhZGVyLmNvdW50KCk7XHJcbiAgICAgIGV4cGVjdChjb3VudCkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgICBjb25zdCB0aXRsZUF0dHIgPSBhd2FpdCBoZWFkZXIuZmlyc3QoKS5nZXRBdHRyaWJ1dGUoJ3RpdGxlJyk7XHJcbiAgICAgIGV4cGVjdCh0aXRsZUF0dHIpLnRvQmVUcnV0aHkoKTtcclxuICAgICAgaWYgKHNuaXBwZXQpIHtcclxuICAgICAgICBleHBlY3QodGl0bGVBdHRyKS50b0NvbnRhaW4oc25pcHBldCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhd2FpdCBleHBlY3RIZWFkZXJXaXRoVG9vbHRpcCgnS2V5JywgJ0ppcmEgaXNzdWUga2V5Jyk7XHJcbiAgICBhd2FpdCBleHBlY3RIZWFkZXJXaXRoVG9vbHRpcCgnU3VtbWFyeScsICdJc3N1ZSBzdW1tYXJ5IGZyb20gSmlyYScpO1xyXG4gICAgYXdhaXQgZXhwZWN0SGVhZGVyV2l0aFRvb2x0aXAoJ1N0YXR1cycsICdDdXJyZW50IEppcmEgc3RhdHVzJyk7XHJcbiAgICBhd2FpdCBleHBlY3RIZWFkZXJXaXRoVG9vbHRpcCgnVHlwZScsICdJc3N1ZSB0eXBlJyk7XHJcblxyXG4gICAgLy8gSWYgc3RvcnkgcG9pbnRzIGFuZCBlcGljIGRhdGEgZXhpc3QsIHRoZWlyIGNvbHVtbnMgc2hvdWxkIGFsc28gZXhwb3NlIHRvb2x0aXBzXHJcbiAgICBjb25zdCBzcEhlYWRlckNvdW50ID0gYXdhaXQgaGVhZGVycy5maWx0ZXIoeyBoYXNUZXh0OiAnU1AnIH0pLmNvdW50KCk7XHJcbiAgICBpZiAoc3BIZWFkZXJDb3VudCA+IDApIHtcclxuICAgICAgY29uc3Qgc3BIZWFkZXIgPSBoZWFkZXJzLmZpbHRlcih7IGhhc1RleHQ6ICdTUCcgfSkuZmlyc3QoKTtcclxuICAgICAgY29uc3QgdGl0bGVBdHRyID0gYXdhaXQgc3BIZWFkZXIuZ2V0QXR0cmlidXRlKCd0aXRsZScpO1xyXG4gICAgICBleHBlY3QodGl0bGVBdHRyKS50b0JlVHJ1dGh5KCk7XHJcbiAgICAgIGV4cGVjdCh0aXRsZUF0dHIpLnRvQ29udGFpbignU3RvcnkgUG9pbnRzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZXBpY0hlYWRlckNvdW50ID0gYXdhaXQgaGVhZGVycy5maWx0ZXIoeyBoYXNUZXh0OiAnRXBpYyBUaXRsZScgfSkuY291bnQoKTtcclxuICAgIGlmIChlcGljSGVhZGVyQ291bnQgPiAwKSB7XHJcbiAgICAgIGNvbnN0IGVwaWNUaXRsZUhlYWRlciA9IGhlYWRlcnMuZmlsdGVyKHsgaGFzVGV4dDogJ0VwaWMgVGl0bGUnIH0pLmZpcnN0KCk7XHJcbiAgICAgIGNvbnN0IGVwaWNTdW1tYXJ5SGVhZGVyID0gaGVhZGVycy5maWx0ZXIoeyBoYXNUZXh0OiAnRXBpYyBTdW1tYXJ5JyB9KS5maXJzdCgpO1xyXG4gICAgICBjb25zdCBlcGljVGl0bGVUb29sdGlwID0gYXdhaXQgZXBpY1RpdGxlSGVhZGVyLmdldEF0dHJpYnV0ZSgndGl0bGUnKTtcclxuICAgICAgY29uc3QgZXBpY1N1bW1hcnlUb29sdGlwID0gYXdhaXQgZXBpY1N1bW1hcnlIZWFkZXIuZ2V0QXR0cmlidXRlKCd0aXRsZScpO1xyXG5cclxuICAgICAgZXhwZWN0KGVwaWNUaXRsZVRvb2x0aXApLnRvQmVUcnV0aHkoKTtcclxuICAgICAgZXhwZWN0KGVwaWNUaXRsZVRvb2x0aXApLnRvQ29udGFpbignRXBpYyB0aXRsZScpO1xyXG4gICAgICBleHBlY3QoZXBpY1N1bW1hcnlUb29sdGlwKS50b0JlVHJ1dGh5KCk7XHJcbiAgICAgIGV4cGVjdChlcGljU3VtbWFyeVRvb2x0aXApLnRvQ29udGFpbignRXBpYyBzdW1tYXJ5Jyk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxJQUFJLEVBQUVDLE1BQU0sUUFBUSxrQkFBa0I7QUFDL0MsU0FBU0MsaUJBQWlCLFFBQVEsdURBQXVEO0FBRXpGLE1BQU1DLGdCQUFnQixHQUFHLGtCQUFrQjtBQUMzQyxNQUFNQyxjQUFjLEdBQUcsa0JBQWtCO0FBRXpDSixJQUFJLENBQUNLLFFBQVEsQ0FBQywrQ0FBK0MsRUFBRSxNQUFNO0VBQ25FTCxJQUFJLENBQUNNLFVBQVUsQ0FBQyxPQUFPO0lBQUVDO0VBQUssQ0FBQyxLQUFLO0lBQ2xDLE1BQU1BLElBQUksQ0FBQ0MsSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUMxQixNQUFNUCxNQUFNLENBQUNNLElBQUksQ0FBQ0UsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUNDLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQztFQUNsRSxDQUFDLENBQUM7RUFFRlYsSUFBSSxDQUFDLG9EQUFvRCxFQUFFLE9BQU87SUFBRU87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