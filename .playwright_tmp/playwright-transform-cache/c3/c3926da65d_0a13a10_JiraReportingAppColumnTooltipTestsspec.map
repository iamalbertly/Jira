{"version":3,"names":["test","expect","runDefaultPreview","DEFAULT_Q2_START","DEFAULT_Q2_END","describe","beforeEach","page","goto","locator","toContainText","setTimeout","previewVisible","isVisible","catch","skip","click","table","tableVisible","headers","expectHeaderWithTooltip","label","snippet","header","filter","hasText","count","toBeGreaterThan","titleAttr","first","getAttribute","toBeTruthy","toContain","spHeaderCount","spHeader","epicHeaderCount","epicTitleHeader","epicSummaryHeader","epicTitleTooltip","epicSummaryTooltip"],"sources":["Jira-Reporting-App-Column-Tooltip-Tests.spec.js"],"sourcesContent":["import { test, expect } from '@playwright/test';\r\nimport { runDefaultPreview } from './JiraReporting-Tests-Shared-PreviewExport-Helpers.js';\r\n\r\nconst DEFAULT_Q2_START = '2025-07-01T00:00';\r\nconst DEFAULT_Q2_END = '2025-09-30T23:59';\r\n\r\ntest.describe('Jira Reporting App - Column Titles & Tooltips', () => {\r\n  test.beforeEach(async ({ page }) => {\r\n    await page.goto('/report');\r\n    await expect(page.locator('h1')).toContainText('VodaAgileBoard');\r\n  });\r\n\r\n  test('boards table column titles expose helpful tooltips', async ({ page }) => {\r\n    test.setTimeout(300000);\r\n    await runDefaultPreview(page);\r\n\r\n    const previewVisible = await page.locator('#preview-content').isVisible().catch(() => false);\r\n    if (!previewVisible) {\r\n      test.skip();\r\n    }\r\n\r\n    await page.click('.tab-btn[data-tab=\"project-epic-level\"]');\r\n    const table = page.locator('#project-epic-level-content table');\r\n    const tableVisible = await table.isVisible().catch(() => false);\r\n    if (!tableVisible) {\r\n      test.skip();\r\n    }\r\n\r\n    const headers = table.locator('thead th');\r\n\r\n    async function expectHeaderWithTooltip(label, snippet) {\r\n      const header = headers.filter({ hasText: label });\r\n      const count = await header.count();\r\n      expect(count).toBeGreaterThan(0);\r\n      const titleAttr = await header.first().getAttribute('title');\r\n      expect(titleAttr).toBeTruthy();\r\n      if (snippet) {\r\n        expect(titleAttr).toContain(snippet);\r\n      }\r\n    }\r\n\r\n    await expectHeaderWithTooltip('Board ID', 'Jira board identifier');\r\n    await expectHeaderWithTooltip('Board', 'Board name shown in Jira');\r\n    await expectHeaderWithTooltip('Done Stories', 'Stories marked Done in included sprints');\r\n    await expectHeaderWithTooltip('SP / Day', 'Done SP รท Sprint Days');\r\n    await expectHeaderWithTooltip('On-Time %', 'On-time delivery discipline');\r\n    await expectHeaderWithTooltip('Ad-hoc', 'often ad-hoc work');\r\n  });\r\n\r\n  test('sprints table column titles expose helpful tooltips', async ({ page }) => {\r\n    test.setTimeout(300000);\r\n    await runDefaultPreview(page);\r\n\r\n    const previewVisible = await page.locator('#preview-content').isVisible().catch(() => false);\r\n    if (!previewVisible) {\r\n      test.skip();\r\n    }\r\n\r\n    await page.click('.tab-btn[data-tab=\"sprints\"]');\r\n    const table = page.locator('#sprints-content table');\r\n    const tableVisible = await table.isVisible().catch(() => false);\r\n    if (!tableVisible) {\r\n      test.skip();\r\n    }\r\n\r\n    const headers = table.locator('thead th');\r\n\r\n    async function expectHeaderWithTooltip(label, snippet) {\r\n      const header = headers.filter({ hasText: label });\r\n      const count = await header.count();\r\n      expect(count).toBeGreaterThan(0);\r\n      const titleAttr = await header.first().getAttribute('title');\r\n      expect(titleAttr).toBeTruthy();\r\n      if (snippet) {\r\n        expect(titleAttr).toContain(snippet);\r\n      }\r\n    }\r\n\r\n    await expectHeaderWithTooltip('Project', 'Projects included for this sprint');\r\n    await expectHeaderWithTooltip('Sprint', 'Sprint name');\r\n    await expectHeaderWithTooltip('Start', 'Sprint start date');\r\n    await expectHeaderWithTooltip('End', 'Sprint end date');\r\n    await expectHeaderWithTooltip('Done Stories', 'Stories marked Done in this sprint');\r\n    await expectHeaderWithTooltip('Done SP', 'Story points completed in this sprint');\r\n  });\r\n\r\n  test('done stories table column titles expose helpful tooltips', async ({ page }) => {\r\n    test.setTimeout(300000);\r\n    await runDefaultPreview(page);\r\n\r\n    const previewVisible = await page.locator('#preview-content').isVisible().catch(() => false);\r\n    if (!previewVisible) {\r\n      test.skip();\r\n    }\r\n\r\n    await page.click('.tab-btn[data-tab=\"done-stories\"]');\r\n    const table = page.locator('#done-stories-content table');\r\n    const tableVisible = await table.isVisible().catch(() => false);\r\n    if (!tableVisible) {\r\n      // If there are no done stories rows, we cannot assert headers\r\n      test.skip();\r\n    }\r\n\r\n    const headers = table.locator('thead th');\r\n\r\n    async function expectHeaderWithTooltip(label, snippet) {\r\n      const header = headers.filter({ hasText: label });\r\n      const count = await header.count();\r\n      expect(count).toBeGreaterThan(0);\r\n      const titleAttr = await header.first().getAttribute('title');\r\n      expect(titleAttr).toBeTruthy();\r\n      if (snippet) {\r\n        expect(titleAttr).toContain(snippet);\r\n      }\r\n    }\r\n\r\n    await expectHeaderWithTooltip('Key', 'Jira issue key');\r\n    await expectHeaderWithTooltip('Summary', 'Issue summary from Jira');\r\n    await expectHeaderWithTooltip('Status', 'Current Jira status');\r\n    await expectHeaderWithTooltip('Type', 'Issue type');\r\n\r\n    // If story points and epic data exist, their columns should also expose tooltips\r\n    const spHeaderCount = await headers.filter({ hasText: 'SP' }).count();\r\n    if (spHeaderCount > 0) {\r\n      const spHeader = headers.filter({ hasText: 'SP' }).first();\r\n      const titleAttr = await spHeader.getAttribute('title');\r\n      expect(titleAttr).toBeTruthy();\r\n      expect(titleAttr).toContain('Story Points');\r\n    }\r\n\r\n    const epicHeaderCount = await headers.filter({ hasText: 'Epic Title' }).count();\r\n    if (epicHeaderCount > 0) {\r\n      const epicTitleHeader = headers.filter({ hasText: 'Epic Title' }).first();\r\n      const epicSummaryHeader = headers.filter({ hasText: 'Epic Summary' }).first();\r\n      const epicTitleTooltip = await epicTitleHeader.getAttribute('title');\r\n      const epicSummaryTooltip = await epicSummaryHeader.getAttribute('title');\r\n\r\n      expect(epicTitleTooltip).toBeTruthy();\r\n      expect(epicTitleTooltip).toContain('Epic title');\r\n      expect(epicSummaryTooltip).toBeTruthy();\r\n      expect(epicSummaryTooltip).toContain('Epic summary');\r\n    }\r\n  });\r\n});\r\n\r\n"],"mappings":"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","ignoreList":[]}